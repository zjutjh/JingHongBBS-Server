(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{732:function(e,t,r){r(32);var n=r(714);r(51),e.exports={data:function(){var e=this;return{errorCodeHandler:{default:{model_not_found:function(){return e.$router.replace("/error")},not_authenticated:function(){return e.$router.push("/user/login")}},thread:{permission_denied:function(){return e.$router.replace("/error")}}}}},methods:{handleError:function(e){var t=arguments,r=this;return n(regeneratorRuntime.mark((function n(){var o,l,d,c,h,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.length>1&&void 0!==t[1]?t[1]:"",l=e.response.data.errors,!(Array.isArray(l)&&l.length>0)){n.next=17;break}if(d=l[0].code,c=l[0].detail&&l[0].detail.length>0?l[0].detail[0]:l[0].code,h=l[0].detail&&l[0].detail.length>0?l[0].detail[0]:r.$t("core.".concat(c)),"site_closed"!==l[0].code){n.next=10;break}return n.next=9,r.siteClose(l);case 9:return n.abrupt("return",n.sent);case 10:if("need_ext_fields"!==l[0].code){n.next=14;break}return m=r.$store.getters["session/get"]("userId"),r.$router.push("/user/supple-mentary?id=".concat(m)),n.abrupt("return");case 14:"Permission Denied"===d?r.$message.error(r.$t("core.permission_denied2")):r.$message.error(h),r.errorCodeHandler.default[d]&&r.errorCodeHandler.default[d](),o&&r.errorCodeHandler[o][d]&&r.errorCodeHandler[o][d]();case 17:case"end":return n.stop()}}),n)})))()},siteClose:function(e){var t=this;return n(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch("forum/setError",{code:e[0].code,detail:e[0].detail&&e[0].detail.length>0&&e[0].detail[0]});case 3:return r.next=5,t.$router.push("/site/close");case 5:r.next=9;break;case 7:r.prev=7,r.t0=r.catch(0);case 9:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}}},772:function(e,t,r){"use strict";r.r(t);r(267);var n={name:"ListLoadMore",mixins:[{data:function(){return{scrollTop:0}},mounted:function(){this.addEventListener(window,"scroll",this.handleScroll)},destroyed:function(){this.removeEventListener(window,"scroll",this.handleScroll)},methods:{handleScroll:function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,r=document.documentElement.scrollHeight||document.body.scrollHeight;Math.ceil(e+t+10)>=r&&this.scrollLoadMore(),this.scrollTop=e},addEventListener:function(e,t,r,n){e.addEventListener?e.addEventListener(t,r,n):e.attachEvent&&e.attachEvent("on".concat(t),r)},removeEventListener:function(e,t,r,n){e.removeEventListener?e.removeEventListener(t,r,n):e.detachEvent&&e.detachEvent("on".concat(t),r)}}}],props:{loading:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!1},pageNum:{type:[Number,String],default:1},length:{type:[Number,String],default:0},surplus:{type:[Number,String],default:0},loadMoreText:{type:String,default:function(){return this.$t("topic.showMore")}}},methods:{scrollLoadMore:function(){(this.pageNum-1)%5>0&&!this.loading&&this.hasMore&&this.loadMore()},loadMore:function(){this.$emit("loadMore")}}},o=r(12),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"load-more-container"},[e.loading?r("loading"):[e.hasMore&&(e.pageNum-1)%5==0?r("div",{staticClass:"load-more",on:{click:e.loadMore}},[e._v("\n      "+e._s(e.surplus>0?e.$t("notice.checkMore",{surplus:e.surplus}):e.loadMoreText)+"\n    ")]):e.hasMore&&(e.pageNum-1)%5>0?r("loading"):r("div",{staticClass:"no-more"},[0===e.length?r("svg-icon",{staticClass:"empty-icon",attrs:{type:"empty"}}):e._e(),e._v("\n      "+e._s(e.length>0?e.$t("discuzq.list.noMoreData"):e.$t("discuzq.list.noData"))+"\n    ")],1)]],2)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Loading:r(842).default,SvgIcon:r(60).default})},789:function(e,t,r){},842:function(e,t,r){"use strict";r.r(t);r(267);var n={name:"Loading",props:{loading:{type:Boolean,default:!1},fontSize:{type:Number,default:32}}},o=(r(843),r(12)),component=Object(o.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"loading-container"},[this._v("\n  "+this._s(this.$t("discuzq.list.loading"))+"...\n")])}),[],!1,null,"88032c6c",null);t.default=component.exports},843:function(e,t,r){"use strict";var n=r(789);r.n(n).a}}]);