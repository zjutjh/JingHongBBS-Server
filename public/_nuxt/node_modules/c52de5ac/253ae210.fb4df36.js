/*! For license information please see ../../LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1e3:function(t,e){var r={"":!0,up:!0};function n(t){return"number"==typeof t&&t>=0&&t<=100}t.exports=function(){var t=100,e=3,o=0,c=100,f=0,l=100,h="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!n(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return c},set:function(t){if(!n(t))throw new Error("RegionAnchorX must be between 0 and 100.");c=t}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!n(t))throw new Error("RegionAnchorY must be between 0 and 100.");o=t}},viewportAnchorY:{enumerable:!0,get:function(){return l},set:function(t){if(!n(t))throw new Error("ViewportAnchorY must be between 0 and 100.");l=t}},viewportAnchorX:{enumerable:!0,get:function(){return f},set:function(t){if(!n(t))throw new Error("ViewportAnchorX must be between 0 and 100.");f=t}},scroll:{enumerable:!0,get:function(){return h},set:function(t){var e=function(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):h=e}}})}},1001:function(t,e,r){var n,o,c,f,l;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,o=/^([^\/?#]*)(.*)$/,c=/(?:\/|^)\.(?=\/)/g,f=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var n=l.parseURL(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=l.normalizePath(n.path),l.buildURLFromParts(n)}var c=l.parseURL(e);if(!c)throw new Error("Error trying to parse relative URL.");if(c.scheme)return r.alwaysNormalize?(c.path=l.normalizePath(c.path),l.buildURLFromParts(c)):e;var f=l.parseURL(t);if(!f)throw new Error("Error trying to parse base URL.");if(!f.netLoc&&f.path&&"/"!==f.path[0]){var h=o.exec(f.path);f.netLoc=h[1],f.path=h[2]}f.netLoc&&!f.path&&(f.path="/");var d={scheme:f.scheme,netLoc:c.netLoc,path:null,params:c.params,query:c.query,fragment:c.fragment};if(!c.netLoc&&(d.netLoc=f.netLoc,"/"!==c.path[0]))if(c.path){var m=f.path,v=m.substring(0,m.lastIndexOf("/")+1)+c.path;d.path=l.normalizePath(v)}else d.path=f.path,c.params||(d.params=f.params,c.query||(d.query=f.query));return null===d.path&&(d.path=r.alwaysNormalize?l.normalizePath(c.path):c.path),l.buildURLFromParts(d)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(path){for(path=path.split("").reverse().join("").replace(c,"");path.length!==(path=path.replace(f,"")).length;);return path.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=l},1002:function(t,e,r){"use strict";r.d(e,"a",(function(){return A}));var n=r(724),o=r.n(n),c=r(1003),f=r.n(c),l=r(721),h=r.n(l),d=r(273),m=r.n(d),v=r(971),y=r.n(v),w=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return o()(e,t),e.prototype.push=function(data){var t;for(this.buffer+=data,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},e}(f.a),T=function(t){for(var e,r=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=r.length;i--;)""!==r[i]&&((e=/([^=]*)=(.*)/.exec(r[i]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),n[e[0]]=e[1]);return n},E=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}o()(e,t);var r=e.prototype;return r.push=function(line){var t,e,r=this;0!==(line=line.trim()).length&&("#"===line[0]?this.tagMappers.reduce((function(t,e){var r=e(line);return r===line?t:t.concat([r])}),[line]).forEach((function(n){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,n))return;if(0===n.indexOf("#EXT"))if(n=n.replace("\r",""),t=/^#EXTM3U/.exec(n))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(n))return e={type:"tag",tagType:"inf"},t[1]&&(e.duration=parseFloat(t[1])),t[2]&&(e.title=t[2]),void r.trigger("data",e);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(n))return e={type:"tag",tagType:"targetduration"},t[1]&&(e.duration=parseInt(t[1],10)),void r.trigger("data",e);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(n))return e={type:"tag",tagType:"totalduration"},t[1]&&(e.duration=parseInt(t[1],10)),void r.trigger("data",e);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(n))return e={type:"tag",tagType:"version"},t[1]&&(e.version=parseInt(t[1],10)),void r.trigger("data",e);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(n))return e={type:"tag",tagType:"media-sequence"},t[1]&&(e.number=parseInt(t[1],10)),void r.trigger("data",e);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(n))return e={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(e.number=parseInt(t[1],10)),void r.trigger("data",e);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(n))return e={type:"tag",tagType:"playlist-type"},t[1]&&(e.playlistType=t[1]),void r.trigger("data",e);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(n))return e={type:"tag",tagType:"byterange"},t[1]&&(e.length=parseInt(t[1],10)),t[2]&&(e.offset=parseInt(t[2],10)),void r.trigger("data",e);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(n))return e={type:"tag",tagType:"allow-cache"},t[1]&&(e.allowed=!/NO/.test(t[1])),void r.trigger("data",e);if(t=/^#EXT-X-MAP:?(.*)$/.exec(n)){if(e={type:"tag",tagType:"map"},t[1]){var o=T(t[1]);if(o.URI&&(e.uri=o.URI),o.BYTERANGE){var c=o.BYTERANGE.split("@"),f=c[0],l=c[1];e.byterange={},f&&(e.byterange.length=parseInt(f,10)),l&&(e.byterange.offset=parseInt(l,10))}}r.trigger("data",e)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(n)){if(e={type:"tag",tagType:"stream-inf"},t[1]){if(e.attributes=T(t[1]),e.attributes.RESOLUTION){var h=e.attributes.RESOLUTION.split("x"),d={};h[0]&&(d.width=parseInt(h[0],10)),h[1]&&(d.height=parseInt(h[1],10)),e.attributes.RESOLUTION=d}e.attributes.BANDWIDTH&&(e.attributes.BANDWIDTH=parseInt(e.attributes.BANDWIDTH,10)),e.attributes["PROGRAM-ID"]&&(e.attributes["PROGRAM-ID"]=parseInt(e.attributes["PROGRAM-ID"],10))}r.trigger("data",e)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(n))return e={type:"tag",tagType:"media"},t[1]&&(e.attributes=T(t[1])),void r.trigger("data",e);if(t=/^#EXT-X-ENDLIST/.exec(n))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(n))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(n))return e={type:"tag",tagType:"program-date-time"},t[1]&&(e.dateTimeString=t[1],e.dateTimeObject=new Date(t[1])),void r.trigger("data",e);if(t=/^#EXT-X-KEY:?(.*)$/.exec(n))return e={type:"tag",tagType:"key"},t[1]&&(e.attributes=T(t[1]),e.attributes.IV&&("0x"===e.attributes.IV.substring(0,2).toLowerCase()&&(e.attributes.IV=e.attributes.IV.substring(2)),e.attributes.IV=e.attributes.IV.match(/.{8}/g),e.attributes.IV[0]=parseInt(e.attributes.IV[0],16),e.attributes.IV[1]=parseInt(e.attributes.IV[1],16),e.attributes.IV[2]=parseInt(e.attributes.IV[2],16),e.attributes.IV[3]=parseInt(e.attributes.IV[3],16),e.attributes.IV=new Uint32Array(e.attributes.IV))),void r.trigger("data",e);if(t=/^#EXT-X-START:?(.*)$/.exec(n))return e={type:"tag",tagType:"start"},t[1]&&(e.attributes=T(t[1]),e.attributes["TIME-OFFSET"]=parseFloat(e.attributes["TIME-OFFSET"]),e.attributes.PRECISE=/YES/.test(e.attributes.PRECISE)),void r.trigger("data",e);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(n))return e={type:"tag",tagType:"cue-out-cont"},t[1]?e.data=t[1]:e.data="",void r.trigger("data",e);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(n))return e={type:"tag",tagType:"cue-out"},t[1]?e.data=t[1]:e.data="",void r.trigger("data",e);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(n))return e={type:"tag",tagType:"cue-in"},t[1]?e.data=t[1]:e.data="",void r.trigger("data",e);r.trigger("data",{type:"tag",data:n.slice(4)})}}}else r.trigger("data",{type:"comment",text:n.slice(1)})})):this.trigger("data",{type:"uri",uri:line}))},r.addParser=function(t){var e=this,r=t.expression,n=t.customType,o=t.dataParser,c=t.segment;"function"!=typeof o&&(o=function(line){return line}),this.customParsers.push((function(line){if(r.exec(line))return e.trigger("data",{type:"custom",data:o(line),customType:n,segment:c}),!0}))},r.addTagMapper=function(t){var e=t.expression,map=t.map;this.tagMappers.push((function(line){return e.test(line)?map(line):line}))},e}(f.a),A=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new w,e.parseStream=new E,e.lineStream.pipe(e.parseStream);var r,n,o=m()(e),c=[],f={},l=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},v=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var T=0;return e.parseStream.on("data",(function(t){var e,m;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(f.byterange=e,e.length=t.length,"offset"in t||(t.offset=T)),"offset"in t&&(f.byterange=e,e.offset=t.offset),T=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(f.duration=t.duration),0===t.duration&&(f.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=c},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:y()(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(n.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,v=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){r={},t.uri&&(r.uri=t.uri),t.byterange&&(r.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=c,this.manifest.mediaGroups=this.manifest.mediaGroups||d,t.attributes?(f.attributes||(f.attributes={}),h()(f.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var r=this.manifest.mediaGroups[t.attributes.TYPE];r[t.attributes["GROUP-ID"]]=r[t.attributes["GROUP-ID"]]||{},e=r[t.attributes["GROUP-ID"]],(m={default:/yes/i.test(t.attributes.DEFAULT)}).default?m.autoselect=!0:m.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(m.language=t.attributes.LANGUAGE),t.attributes.URI&&(m.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(m.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(m.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(m.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=m}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){v+=1,f.discontinuity=!0,this.manifest.discontinuityStarts.push(c.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),f.dateTimeString=t.dateTimeString,f.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){f.cueOut=t.data},"cue-out-cont":function(){f.cueOutCont=t.data},"cue-in":function(){f.cueIn=t.data}}[t.tagType]||l).call(o)},uri:function(){f.uri=t.uri,c.push(f),this.manifest.targetDuration&&!("duration"in f)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),f.duration=this.manifest.targetDuration),n&&(f.key=n),f.timeline=v,r&&(f.map=r),f={}},comment:function(){},custom:function(){t.segment?(f.custom=f.custom||{},f.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(o)})),e}o()(e,t);var r=e.prototype;return r.push=function(t){this.lineStream.push(t)},r.end=function(){this.lineStream.push("\n")},r.addParser=function(t){this.parseStream.addParser(t)},r.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(f.a)},1003:function(t,e,r){"use strict";var n=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var r=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(r,1),r>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var r=e.length,i=0;i<r;++i)e[i].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),o=e.length,c=0;c<o;++c)e[c].apply(this,n)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(data){t.push(data)}))},t}();t.exports=n},1004:function(t,e,r){"use strict";(function(t){var n=r(1005),o=r(1006),c=r(1007);function f(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(f()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,r){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return v(this,t)}return d(this,t,e,r)}function d(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=y(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!h.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|T(e,r),o=(t=l(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(h.isBuffer(e)){var r=0|w(e.length);return 0===(t=l(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?l(t,0):y(t,e);if("Buffer"===e.type&&c(e.data))return y(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function m(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function v(t,e){if(m(e),t=l(t,e<0?0:0|w(e)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function y(t,e){var r=e.length<0?0:0|w(e.length);t=l(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function w(t){if(t>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|t}function T(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(n)return G(t).length;e=(""+e).toLowerCase(),n=!0}}function E(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return L(this,e,r);case"base64":return _(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function A(b,t,e){var i=b[t];b[t]=b[e],b[e]=i}function S(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:N(t,e,r,n,o);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):N(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function N(t,e,r,n,o){var i,c=1,f=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;c=2,f/=2,l/=2,r/=2}function h(t,i){return 1===c?t[i]:t.readUInt16BE(i*c)}if(o){var d=-1;for(i=r;i<f;i++)if(h(t,i)===h(e,-1===d?0:i-d)){if(-1===d&&(d=i),i-d+1===l)return d*c}else-1!==d&&(i-=i-d),d=-1}else for(r+l>f&&(r=f-l),i=r;i>=0;i--){for(var m=!0,v=0;v<l;v++)if(h(t,i+v)!==h(e,v)){m=!1;break}if(m)return i}return-1}function I(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var c=e.length;if(c%2!=0)throw new TypeError("Invalid hex string");n>c/2&&(n=c/2);for(var i=0;i<n;++i){var f=parseInt(e.substr(2*i,2),16);if(isNaN(f))return i;t[r+i]=f}return i}function x(t,e,r,n){return K(G(e,t.length-r),t,r,n)}function R(t,e,r,n){return K(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,r,n)}function D(t,e,r,n){return R(t,e,r,n)}function C(t,e,r,n){return K(W(e),t,r,n)}function U(t,e,r,n){return K(function(t,e){for(var r,n,o,c=[],i=0;i<t.length&&!((e-=2)<0);++i)r=t.charCodeAt(i),n=r>>8,o=r%256,c.push(o),c.push(n);return c}(e,t.length-r),t,r,n)}function _(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function O(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,c,f,l,h=t[i],d=null,m=h>239?4:h>223?3:h>191?2:1;if(i+m<=r)switch(m){case 1:h<128&&(d=h);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&h)<<6|63&o)>127&&(d=l);break;case 3:o=t[i+1],c=t[i+2],128==(192&o)&&128==(192&c)&&(l=(15&h)<<12|(63&o)<<6|63&c)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=t[i+1],c=t[i+2],f=t[i+3],128==(192&o)&&128==(192&c)&&128==(192&f)&&(l=(15&h)<<18|(63&o)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(d=l)}null===d?(d=65533,m=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),i+=m}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return r}(n)}e.Buffer=h,e.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=f(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,r){return d(null,t,e,r)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,r){return function(t,e,r,n){return m(e),e<=0?l(t,e):void 0!==r?"string"==typeof n?l(t,e).fill(r,n):l(t,e).fill(r):l(t,e)}(null,t,e,r)},h.allocUnsafe=function(t){return v(null,t)},h.allocUnsafeSlow=function(t){return v(null,t)},h.isBuffer=function(b){return!(null==b||!b._isBuffer)},h.compare=function(a,b){if(!h.isBuffer(a)||!h.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var t=a.length,e=b.length,i=0,r=Math.min(t,e);i<r;++i)if(a[i]!==b[i]){t=a[i],e=b[i];break}return t<e?-1:e<t?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!c(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=h.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},h.byteLength=T,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)A(this,i,i+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)A(this,i,i+3),A(this,i+1,i+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)A(this,i,i+7),A(this,i+1,i+6),A(this,i+2,i+5),A(this,i+3,i+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):E.apply(this,arguments)},h.prototype.equals=function(b){if(!h.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===h.compare(this,b)},h.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,r,n,o){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var c=(o>>>=0)-(n>>>=0),f=(r>>>=0)-(e>>>=0),l=Math.min(c,f),d=this.slice(n,o),m=t.slice(e,r),i=0;i<l;++i)if(d[i]!==m[i]){c=d[i],f=m[i];break}return c<f?-1:f<c?1:0},h.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},h.prototype.indexOf=function(t,e,r){return S(this,t,e,r,!0)},h.prototype.lastIndexOf=function(t,e,r){return S(this,t,e,r,!1)},h.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var c=!1;;)switch(n){case"hex":return I(this,t,e,r);case"utf8":case"utf-8":return x(this,t,e,r);case"ascii":return R(this,t,e,r);case"latin1":case"binary":return D(this,t,e,r);case"base64":return C(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,e,r);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function L(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function M(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=$(t[i]);return o}function k(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function B(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,r,n,o,c){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<c)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Y(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function X(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function V(t,e,r,n,o,c){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(t,e,r,n,c){return c||V(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,c){return c||V(t,0,r,8),o.write(t,e,r,n,52,8),r+8}h.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=h.prototype;else{var o=e-t;r=new h(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},h.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},h.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},h.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),o.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),o.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),o.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),o.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||F(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},h.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||F(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},h.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Y(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Y(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):X(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):X(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);F(this,t,e,r,o-1,-o)}var i=0,c=1,sub=0;for(this[e]=255&t;++i<r&&(c*=256);)t<0&&0===sub&&0!==this[e+i-1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+r},h.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);F(this,t,e,r,o-1,-o)}var i=r-1,c=1,sub=0;for(this[e+i]=255&t;--i>=0&&(c*=256);)t<0&&0===sub&&0!==this[e+i+1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+r},h.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Y(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Y(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):X(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):X(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,r){return z(this,t,e,!0,r)},h.prototype.writeFloatBE=function(t,e,r){return z(this,t,e,!1,r)},h.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},h.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},h.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},h.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var code=t.charCodeAt(0);code<256&&(t=code)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=h.isBuffer(t)?t:G(new h(t,n).toString()),c=o.length;for(i=0;i<r-e;++i)this[i+e]=o[i%c]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function $(t){return t<16?"0"+t.toString(16):t.toString(16)}function G(t,e){var r;e=e||1/0;for(var n=t.length,o=null,c=[],i=0;i<n;++i){if((r=t.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&c.push(239,191,189);continue}if(i+1===n){(e-=3)>-1&&c.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&c.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&c.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;c.push(r)}else if(r<2048){if((e-=2)<0)break;c.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;c.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;c.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return c}function W(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(18))},1005:function(t,e,r){"use strict";e.byteLength=function(t){var e=l(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,i,r=l(t),n=r[0],f=r[1],h=new c(function(t,e,r){return 3*(e+r)/4-r}(0,n,f)),d=0,m=f>0?n-4:n;for(i=0;i<m;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],h[d++]=e>>16&255,h[d++]=e>>8&255,h[d++]=255&e;2===f&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,h[d++]=255&e);1===f&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,h[d++]=e>>8&255,h[d++]=255&e);return h},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,c=[],i=0,f=r-o;i<f;i+=16383)c.push(h(t,i,i+16383>f?f:i+16383));1===o?(e=t[r-1],c.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],c.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return c.join("")};for(var n=[],o=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,f=code.length;i<f;++i)n[i]=code[i],o[code.charCodeAt(i)]=i;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,r){for(var o,c,output=[],i=e;i<r;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),output.push(n[(c=o)>>18&63]+n[c>>12&63]+n[c>>6&63]+n[63&c]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},1006:function(t,e){e.read=function(t,e,r,n,o){var c,f,l=8*o-n-1,h=(1<<l)-1,d=h>>1,m=-7,i=r?o-1:0,v=r?-1:1,s=t[e+i];for(i+=v,c=s&(1<<-m)-1,s>>=-m,m+=l;m>0;c=256*c+t[e+i],i+=v,m-=8);for(f=c&(1<<-m)-1,c>>=-m,m+=n;m>0;f=256*f+t[e+i],i+=v,m-=8);if(0===c)c=1-d;else{if(c===h)return f?NaN:1/0*(s?-1:1);f+=Math.pow(2,n),c-=d}return(s?-1:1)*f*Math.pow(2,c-n)},e.write=function(t,e,r,n,o,c){var f,l,h,d=8*c-o-1,m=(1<<d)-1,v=m>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=n?0:c-1,y=n?1:-1,s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,f=m):(f=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-f))<1&&(f--,h*=2),(e+=f+v>=1?rt/h:rt*Math.pow(2,1-v))*h>=2&&(f++,h/=2),f+v>=m?(l=0,f=m):f+v>=1?(l=(e*h-1)*Math.pow(2,o),f+=v):(l=e*Math.pow(2,v-1)*Math.pow(2,o),f=0));o>=8;t[r+i]=255&l,i+=y,l/=256,o-=8);for(f=f<<o|l,d+=o;d>0;t[r+i]=255&f,i+=y,f/=256,d-=8);t[r+i-y]|=128*s}},1007:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},1008:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,o=/^application\/dash\+xml/i;e.simpleTypeFromSourceType=function(t){return n.test(t)?"hls":o.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null}},1009:function(t,e,r){"use strict";r.d(e,"a",(function(){return it})),r.d(e,"b",(function(){return at}));var n=r(970),o=r.n(n),c=r(861),f=r.n(c),l=r(971),h=r.n(l),d=r(972),m=function(t){return!!t&&"object"==typeof t},v=function t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce((function(e,source){return Object.keys(source).forEach((function(r){Array.isArray(e[r])&&Array.isArray(source[r])?e[r]=e[r].concat(source[r]):m(e[r])&&m(source[r])?e[r]=t(e[r],source[r]):e[r]=source[r]})),e}),{})},y=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},w=function(t){if(!t.length)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},T="INVALID_NUMBER_OF_PERIOD",E="DASH_EMPTY_MANIFEST",A="DASH_INVALID_XML",S="NO_BASE_URL",N="SEGMENT_TIME_UNSPECIFIED",I="UNSUPPORTED_UTC_TIMING_SCHEME",x=function(t){var e=t.baseUrl,r=void 0===e?"":e,n=t.source,source=void 0===n?"":n,c=t.range,f=void 0===c?"":c,l=t.indexRange,h=void 0===l?"":l,d={uri:source,resolvedUri:o()(r||"",source)};if(f||h){var m=(f||h).split("-"),v=parseInt(m[0],10),y=parseInt(m[1],10);d.byterange={length:y-v+1,offset:v}}return d},R={static:function(t){var e=t.duration,r=t.timescale,n=void 0===r?1:r,o=t.sourceDuration;return{start:0,end:Math.ceil(o/(e/n))}},dynamic:function(t){var e=t.NOW,r=t.clientOffset,n=t.availabilityStartTime,o=t.timescale,c=void 0===o?1:o,f=t.duration,l=t.start,h=void 0===l?0:l,d=t.minimumUpdatePeriod,m=void 0===d?0:d,v=t.timeShiftBufferDepth,y=void 0===v?1/0:v,w=(e+r)/1e3,T=n+h,E=w+m-T,A=Math.ceil(E*c/f),S=Math.floor((w-T-y)*c/f),N=Math.floor((w-T)*c/f);return{start:Math.max(0,S),end:Math.min(A,N)}}},D=function(t){var e=t.type,r=void 0===e?"static":e,n=t.duration,o=t.timescale,c=void 0===o?1:o,f=t.sourceDuration,l=R[r](t),h=function(t,e){for(var r=[],i=t;i<e;i++)r.push(i);return r}(l.start,l.end).map(function(t){return function(e,r){var n=t.duration,o=t.timescale,c=void 0===o?1:o,f=t.periodIndex,l=t.startNumber;return{number:(void 0===l?1:l)+e,duration:n/c,timeline:f,time:r*n}}}(t));if("static"===r){var d=h.length-1;h[d].duration=f-n/c*d}return h},C=function(t){var e=t.baseUrl,r=t.initialization,n=void 0===r?{}:r,o=t.sourceDuration,c=t.indexRange,f=void 0===c?"":c,l=t.duration;if(!e)throw new Error(S);var h=x({baseUrl:e,source:n.sourceURL,range:n.range}),d=x({baseUrl:e,source:e,indexRange:f});if(d.map=h,l){var m=D(t);m.length&&(d.duration=m[0].duration,d.timeline=m[0].timeline)}else o&&(d.duration=o,d.timeline=0);return d.number=0,[d]},U=function(t,e,r){for(var n=t.sidx.map?t.sidx.map:null,o=t.sidx.duration,c=t.timeline||0,f=t.sidx.byterange,l=f.offset+f.length,h=e.timescale,d=e.references.filter((function(t){return 1!==t.referenceType})),m=[],v=l+e.firstOffset,i=0;i<d.length;i++){var y=e.references[i],w=y.referencedSize,T=y.subsegmentDuration,E=C({baseUrl:r,timescale:h,timeline:c,periodIndex:c,duration:T,sourceDuration:o,indexRange:v+"-"+(v+w-1)})[0];n&&(E.map=n),m.push(E),v+=w}return t.segments=m,t},_=function(t){var e;return(e=t.reduce((function(t,e){var r,n=e.attributes.id+(e.attributes.lang||"");return t[n]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(r=t[n].segments).push.apply(r,e.segments),e.attributes.contentProtection&&(t[n].attributes.contentProtection=e.attributes.contentProtection)):t[n]=e,t}),{}),Object.keys(e).map((function(t){return e[t]}))).map((function(t){var e,r;return t.discontinuityStarts=(e=t.segments,r="discontinuity",e.reduce((function(a,t,i){return t[r]&&a.push(i),a}),[])),t}))},O=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var i in t){var r=t[i];if(r.sidx){var n=r.sidx.uri+"-"+(c=r.sidx.byterange,f=void 0,f=c.offset+c.length-1,c.offset+"-"+f),o=e[n]&&e[n].sidx;r.sidx&&o&&U(r,o,r.sidx.resolvedUri)}}var c,f;return t},P=function(t){var e,r=t.attributes,n=t.segments,o=t.sidx,c={attributes:(e={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1};return r.contentProtection&&(c.contentProtection=r.contentProtection),o&&(c.sidx=o),c},L=function(t){var e,r=t.attributes,n=t.segments;void 0===n&&(n=[{uri:r.baseUrl,timeline:r.periodIndex,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration);var o=((e={NAME:r.id,BANDWIDTH:r.bandwidth})["PROGRAM-ID"]=1,e);return r.codecs&&(o.CODECS=r.codecs),{attributes:o,uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:r.baseUrl||"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1}},M=function(t){var e,r=t.attributes,n=t.segments,o=t.sidx,c={attributes:(e={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1};return r.contentProtection&&(c.contentProtection=r.contentProtection),o&&(c.sidx=o),c},k=function(t,e,r){var n;if(void 0===r&&(r={}),!t.length)return{};var o=t[0].attributes,c=o.sourceDuration,f=o.type,l=void 0===f?"static":f,h=o.suggestedPresentationDelay,d=o.minimumUpdatePeriod,m=_(t.filter((function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType}))).map(M),v=_(t.filter((function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType}))),y=t.filter((function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType})),w={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:c,playlists:O(m,r)};return d>=0&&(w.minimumUpdatePeriod=1e3*d),e&&(w.locations=e),"dynamic"===l&&(w.suggestedPresentationDelay=h),v.length&&(w.mediaGroups.AUDIO.audio=function(t,e){var r;void 0===e&&(e={});var n=t.reduce((function(a,t){var n=t.attributes.role&&t.attributes.role.value||"",o=t.attributes.lang||"",label="main";if(o){var c=n?" ("+n+")":"";label=""+t.attributes.lang+c}return a[label]&&a[label].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth||(a[label]={language:o,autoselect:!0,default:"main"===n,playlists:O([P(t)],e),uri:""},void 0===r&&"main"===n&&((r=t).default=!0)),a}),{});r||(n[Object.keys(n)[0]].default=!0);return n}(v,r)),y.length&&(w.mediaGroups.SUBTITLES.subs=function(t,e){return void 0===e&&(e={}),t.reduce((function(a,t){var label=t.attributes.lang||"text";return a[label]||(a[label]={language:label,default:!1,autoselect:!1,playlists:O([L(t)],e),uri:""}),a}),{})}(y,r)),w},B=function(t,time,e){var r=t.NOW,n=t.clientOffset,o=t.availabilityStartTime,c=t.timescale,f=void 0===c?1:c,l=t.start,h=void 0===l?0:l,d=t.minimumUpdatePeriod,m=(r+n)/1e3+(void 0===d?0:d)-(o+h);return Math.ceil((m*f-time)/e)},F=function(t,e){for(var r=t.type,n=void 0===r?"static":r,o=t.minimumUpdatePeriod,c=void 0===o?0:o,f=t.media,l=void 0===f?"":f,h=t.sourceDuration,d=t.timescale,m=void 0===d?1:d,v=t.startNumber,y=void 0===v?1:v,w=t.periodIndex,T=[],time=-1,E=0;E<e.length;E++){var A=e[E],S=A.d,N=A.r||0,I=A.t||0;time<0&&(time=I),I&&I>time&&(time=I);var x=void 0;if(N<0){var R=E+1;x=R===e.length?"dynamic"===n&&c>0&&l.indexOf("$Number$")>0?B(t,time,S):(h*m-time)/S:(e[R].t-time)/S}else x=N+1;for(var D=y+T.length+x,C=y+T.length;C<D;)T.push({number:C,duration:S/m,time:time,timeline:w}),time+=S,C++}return T},Y=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,X=function(t,e){return t.replace(Y,function(t){return function(e,r,n,o){if("$$"===e)return"$";if(void 0===t[r])return e;var c=""+t[r];return"RepresentationID"===r?c:(o=n?parseInt(o,10):1,c.length>=o?c:""+new Array(o-c.length+1).join("0")+c)}}(e))},V=function(t,e){var r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},n=t.initialization,c=void 0===n?{sourceURL:"",range:""}:n,f=x({baseUrl:t.baseUrl,source:X(c.sourceURL,r),range:c.range});return function(t,e){return t.duration||e?t.duration?D(t):F(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map((function(e){r.Number=e.number,r.Time=e.time;var n=X(t.media||"",r);return{uri:n,timeline:e.timeline,duration:e.duration,resolvedUri:o()(t.baseUrl||"",n),map:f,number:e.number}}))},z=function(t,e){var r=t.duration,n=t.segmentUrls,o=void 0===n?[]:n;if(!r&&!e||r&&e)throw new Error(N);var c,f=o.map((function(e){return function(t,e){var r=t.baseUrl,n=t.initialization,o=void 0===n?{}:n,c=x({baseUrl:r,source:o.sourceURL,range:o.range}),f=x({baseUrl:r,source:e.media,range:e.mediaRange});return f.map=c,f}(t,e)}));return r&&(c=D(t)),e&&(c=F(t,e)),c.map((function(t,e){if(f[e]){var r=f[e];return r.timeline=t.timeline,r.duration=t.duration,r.number=t.number,r}})).filter((function(t){return t}))},j=function(t){var e,r,n=t.attributes,o=t.segmentInfo;o.template?(r=V,e=v(n,o.template)):o.base?(r=C,e=v(n,o.base)):o.list&&(r=z,e=v(n,o.list));var c={attributes:n};if(!r)return c;var f=r(e,o.timeline);if(e.duration){var l=e,h=l.duration,d=l.timescale,m=void 0===d?1:d;e.duration=h/m}else f.length?e.duration=f.reduce((function(t,e){return Math.max(t,Math.ceil(e.duration))}),0):e.duration=0;return c.attributes=e,c.segments=f,o.base&&e.indexRange&&(c.sidx=f[0],c.segments=[]),c},H=function(element,t){return w(element.childNodes).filter((function(e){return e.tagName===t}))},$=function(element){return element.textContent.trim()},G=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var r=e.slice(1),n=r[0],o=r[1],c=r[2],f=r[3],l=r[4],h=r[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(o||0)+86400*parseFloat(c||0)+3600*parseFloat(f||0)+60*parseFloat(l||0)+parseFloat(h||0)},W={mediaPresentationDuration:function(t){return G(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return G(t)},suggestedPresentationDelay:function(t){return G(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return G(t)},start:function(t){return G(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?G(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},K=function(t){return t&&t.attributes?w(t.attributes).reduce((function(a,t){var e=W[t.name]||W.DEFAULT;return a[t.name]=e(t.value),a}),{}):{}},Z={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},J=function(t,e){return e.length?y(t.map((function(t){return e.map((function(e){return o()(t,$(e))}))}))):t},Q=function(t){var e=H(t,"SegmentTemplate")[0],r=H(t,"SegmentList")[0],n=r&&H(r,"SegmentURL").map((function(s){return v({tag:"SegmentURL"},K(s))})),o=H(t,"SegmentBase")[0],c=r||e,f=c&&H(c,"SegmentTimeline")[0],l=r||o||e,h=l&&H(l,"Initialization")[0],template=e&&K(e);template&&h?template.initialization=h&&K(h):template&&template.initialization&&(template.initialization={sourceURL:template.initialization});var d={template:template,timeline:f&&H(f,"S").map((function(s){return K(s)})),list:r&&v(K(r),{segmentUrls:n,initialization:K(h)}),base:o&&v(K(o),{initialization:K(h)})};return Object.keys(d).forEach((function(t){d[t]||delete d[t]})),d},tt=function(t,e,r){return function(n){var o=K(n),c=J(e,H(n,"BaseURL")),f=H(n,"Role")[0],l={role:K(f)},d=v(t,o,l),m=H(n,"ContentProtection").reduce((function(t,e){var r=K(e),n=Z[r.schemeIdUri];if(n){t[n]={attributes:r};var o=H(e,"cenc:pssh")[0];if(o){var c=$(o),f=c&&h()(c);t[n].pssh=f}}return t}),{});Object.keys(m).length&&(d=v(d,{contentProtection:m}));var w=Q(n),T=H(n,"Representation"),E=v(r,w);return y(T.map(function(t,e,r){return function(n){var o=H(n,"BaseURL"),c=J(e,o),f=v(t,K(n)),l=Q(n);return c.map((function(t){return{segmentInfo:v(r,l),attributes:v(f,{baseUrl:t})}}))}}(d,c,E)))}},et=function(t,e){return function(r,n){var o=J(e,H(r,"BaseURL")),c=K(r),l=parseInt(c.id,10),h=f.a.isNaN(l)?n:l,d=v(t,{periodIndex:h}),m=H(r,"AdaptationSet"),w=Q(r);return y(m.map(tt(d,o,w)))}},nt=function(t){if(""===t)throw new Error(E);var e=(new d.DOMParser).parseFromString(t,"application/xml"),r=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(A);return r},it=function(t,e){void 0===e&&(e={});var r=function(t,e){void 0===e&&(e={});var r=e,n=r.manifestUri,o=void 0===n?"":n,c=r.NOW,f=void 0===c?Date.now():c,l=r.clientOffset,h=void 0===l?0:l,d=H(t,"Period");if(!d.length)throw new Error(T);var m=H(t,"Location"),v=K(t),w=J([o],H(t,"BaseURL"));return v.sourceDuration=v.mediaPresentationDuration||0,v.NOW=f,v.clientOffset=h,m.length&&(v.locations=m.map($)),{locations:v.locations,representationInfo:y(d.map(et(v,w)))}}(nt(t),e),n=r.representationInfo.map(j);return k(n,r.locations,e.sidxMapping)},at=function(t){return function(t){var e=H(t,"UTCTiming")[0];if(!e)return null;var r=K(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(I)}return r}(nt(t))}},1010:function(t,e){var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+r.source+n.source+"*(?::"+r.source+n.source+"*)?$");function c(){}function f(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function l(source,t,e,r,n,o){for(var c,p=++t,s=0;;){var f=source.charAt(p);switch(f){case"=":if(1===s)c=source.slice(t,p),s=3;else{if(2!==s)throw new Error("attribute equal must after attrName");s=3}break;case"'":case'"':if(3===s||1===s){if(1===s&&(o.warning('attribute value must after "="'),c=source.slice(t,p)),t=p+1,!((p=source.indexOf(f,t))>0))throw new Error("attribute value no end '"+f+"' match");l=source.slice(t,p).replace(/&#?\w+;/g,n),e.add(c,l,t-1),s=5}else{if(4!=s)throw new Error('attribute value must after "="');l=source.slice(t,p).replace(/&#?\w+;/g,n),e.add(c,l,t),o.warning('attribute "'+c+'" missed start quot('+f+")!!"),t=p+1,s=5}break;case"/":switch(s){case 0:e.setTagName(source.slice(t,p));case 5:case 6:case 7:s=7,e.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==s&&e.setTagName(source.slice(t,p)),p;case">":switch(s){case 0:e.setTagName(source.slice(t,p));case 5:case 6:case 7:break;case 4:case 1:"/"===(l=source.slice(t,p)).slice(-1)&&(e.closed=!0,l=l.slice(0,-1));case 2:2===s&&(l=c),4==s?(o.warning('attribute "'+l+'" missed quot(")!!'),e.add(c,l.replace(/&#?\w+;/g,n),t)):("http://www.w3.org/1999/xhtml"===r[""]&&l.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),e.add(l,l,t));break;case 3:throw new Error("attribute value missed!!")}return p;case"":f=" ";default:if(f<=" ")switch(s){case 0:e.setTagName(source.slice(t,p)),s=6;break;case 1:c=source.slice(t,p),s=2;break;case 4:var l=source.slice(t,p).replace(/&#?\w+;/g,n);o.warning('attribute "'+l+'" missed quot(")!!'),e.add(c,l,t);case 5:s=6}else switch(s){case 2:e.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),e.add(c,c,t),t=p,s=1;break;case 5:o.warning('attribute space is required"'+c+'"!!');case 6:s=1,t=p;break;case 3:s=4,t=p;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}p++}}function h(t,e,r){for(var n=t.tagName,o=null,i=t.length;i--;){var a=t[i],c=a.qName,f=a.value;if((m=c.indexOf(":"))>0)var l=a.prefix=c.slice(0,m),h=c.slice(m+1),d="xmlns"===l&&h;else h=c,l=null,d="xmlns"===c&&"";a.localName=h,!1!==d&&(null==o&&(o={},v(r,r={})),r[d]=o[d]=f,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,f))}for(i=t.length;i--;){(l=(a=t[i]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=r[l||""]))}var m;(m=n.indexOf(":"))>0?(l=t.prefix=n.slice(0,m),h=t.localName=n.slice(m+1)):(l=null,h=t.localName=n);var y=t.uri=r[l||""];if(e.startElement(y,h,n,t),!t.closed)return t.currentNSMap=r,t.localNSMap=o,!0;if(e.endElement(y,h,n),o)for(l in o)e.endPrefixMapping(l)}function d(source,t,e,r,n){if(/^(?:script|textarea)$/i.test(e)){var o=source.indexOf("</"+e+">",t),text=source.substring(t+1,o);if(/[&<]/.test(text))return/^script$/i.test(e)?(n.characters(text,0,text.length),o):(text=text.replace(/&#?\w+;/g,r),n.characters(text,0,text.length),o)}return t+1}function m(source,t,e,r){var n=r[e];return null==n&&((n=source.lastIndexOf("</"+e+">"))<t&&(n=source.lastIndexOf("</"+e)),r[e]=n),n<t}function v(source,t){for(var e in source)t[e]=source[e]}function y(source,t,e,r){switch(source.charAt(t+2)){case"-":return"-"===source.charAt(t+3)?(n=source.indexOf("--\x3e",t+4))>t?(e.comment(source,t+4,n-t-4),n+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==source.substr(t+3,6)){var n=source.indexOf("]]>",t+9);return e.startCDATA(),e.characters(source,t+9,n-t-9),e.endCDATA(),n+3}var o=function(source,t){var e,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;n.lastIndex=t,n.exec(source);for(;e=n.exec(source);)if(r.push(e),e[1])return r}(source,t),c=o.length;if(c>1&&/!doctype/i.test(o[0][0])){var f=o[1][0],l=c>3&&/^public$/i.test(o[2][0])&&o[3][0],h=c>4&&o[4][0],d=o[c-1];return e.startDTD(f,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),h&&h.replace(/^(['"])(.*?)\1$/,"$2")),e.endDTD(),d.index+d[0].length}}return-1}function w(source,t,e){var r=source.indexOf("?>",t);if(r){var n=source.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n){n[0].length;return e.processingInstruction(n[1],n[2]),r+2}return-1}return-1}function T(source){}function E(t,e){return t.__proto__=e,t}c.prototype={parse:function(source,t,e){var r=this.domBuilder;r.startDocument(),v(t,t={}),function(source,t,e,r,n){function o(a){var t=a.slice(1,-1);return t in e?e[t]:"#"===t.charAt(0)?function(code){if(code>65535){var t=55296+((code-=65536)>>10),e=56320+(1023&code);return String.fromCharCode(t,e)}return String.fromCharCode(code)}(parseInt(t.substr(1).replace("x","0x"))):(n.error("entity not found:"+a),a)}function c(t){if(t>R){var e=source.substring(R,t).replace(/&#?\w+;/g,o);N&&v(R),r.characters(e,0,t-R),R=t}}function v(p,t){for(;p>=A&&(t=S.exec(source));)E=t.index,A=E+t[0].length,N.lineNumber++;N.columnNumber=p-E+1}var E=0,A=0,S=/.*(?:\r\n?|\n)|.*$/g,N=r.locator,I=[{currentNSMap:t}],x={},R=0;for(;;){try{var D=source.indexOf("<",R);if(D<0){if(!source.substr(R).match(/^\s*$/)){var C=r.doc,text=C.createTextNode(source.substr(R));C.appendChild(text),r.currentElement=text}return}switch(D>R&&c(D),source.charAt(D+1)){case"/":var U=source.indexOf(">",D+3),_=source.substring(D+2,U),O=I.pop();U<0?(_=source.substring(D+2).replace(/[\s<].*/,""),n.error("end tag name: "+_+" is not complete:"+O.tagName),U=D+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),n.error("end tag name: "+_+" maybe not complete"),U=D+1+_.length);var P=O.localNSMap,L=O.tagName==_;if(L||O.tagName&&O.tagName.toLowerCase()==_.toLowerCase()){if(r.endElement(O.uri,O.localName,_),P)for(var M in P)r.endPrefixMapping(M);L||n.fatalError("end tag name: "+_+" is not match the current start tagName:"+O.tagName)}else I.push(O);U++;break;case"?":N&&v(D),U=w(source,D,r);break;case"!":N&&v(D),U=y(source,D,r,n);break;default:N&&v(D);var k=new T,B=I[I.length-1].currentNSMap,F=(U=l(source,D,k,B,o,n),k.length);if(!k.closed&&m(source,U,k.tagName,x)&&(k.closed=!0,e.nbsp||n.warning("unclosed xml attribute")),N&&F){for(var Y=f(N,{}),i=0;i<F;i++){var a=k[i];v(a.offset),a.locator=f(N,{})}r.locator=Y,h(k,r,B)&&I.push(k),r.locator=N}else h(k,r,B)&&I.push(k);"http://www.w3.org/1999/xhtml"!==k.uri||k.closed?U++:U=d(source,U,k.tagName,o,r)}}catch(t){n.error("element parse error: "+t),U=-1}U>R?R=U:c(Math.max(D,R)+1)}}(source,t,e,r,this.errorHandler),r.endDocument()}},T.prototype={setTagName:function(t){if(!o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,r){if(!o.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(i){return this[i].localName},getLocator:function(i){return this[i].locator},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}},E({},E.prototype)instanceof E||(E=function(t,e){function p(){}for(e in p.prototype=e,p=new p,t)p[e]=t[e];return p}),e.XMLReader=c},1011:function(t,e){t.exports=function(data){var i,view=new DataView(data.buffer,data.byteOffset,data.byteLength),t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),references:[],referenceId:view.getUint32(4),timescale:view.getUint32(8),earliestPresentationTime:view.getUint32(12),firstOffset:view.getUint32(16)},e=view.getUint16(22);for(i=24;e;i+=12,e--)t.references.push({referenceType:(128&data[i])>>>7,referencedSize:2147483647&view.getUint32(i),subsegmentDuration:view.getUint32(i+4),startsWithSap:!!(128&data[i+8]),sapType:(112&data[i+8])>>>4,sapDeltaTime:268435455&view.getUint32(i+8)});return t}},1012:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)},o=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,n(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},c=function(t,e){void 0===e&&(e=0);var r=(t=n(t))[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?r+20:r+10},f=function t(e,r){return void 0===r&&(r=0),(e=n(e)).length-r<10||"ID3"!==o(e.subarray(r,r+3))?r:t(e,r+=c(e,r))},l={aac:function(t){var e=f(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&16==(22&t[e+1])},mp3:function(t){var e=f(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&2==(6&t[e+1])},webm:function(t){return t.length>=4&&26==(255&t[0])&&69==(255&t[1])&&223==(255&t[2])&&163==(255&t[3])},mp4:function(t){return t.length>=8&&/^(f|s)typ$/.test(o(t.subarray(4,8)))&&!/^ftyp3g$/.test(o(t.subarray(4,10)))},"3gp":function(t){return t.length>=10&&/^ftyp3g$/.test(o(t.subarray(4,10)))},ts:function(t){if(t.length<189&&t.length>=1)return 71===t[0];for(var i=0;i+188<t.length&&i<188;){if(71===t[i]&&71===t[i+188])return!0;i+=1}return!1},flac:function(t){return t.length>=4&&/^fLaC$/.test(o(t.subarray(0,4)))},ogg:function(t){return t.length>=4&&/^OggS$/.test(o(t.subarray(0,4)))}},h=Object.keys(l).filter((function(t){return"ts"!==t})).concat("ts");h.forEach((function(t){var e=l[t];l[t]=function(t){return e(n(t))}}));e.detectContainerForBytes=function(t){t=n(t);for(var i=0;i<h.length;i++){var e=h[i];if(l[e](t))return e}return""},e.getId3Offset=f,e.id3Size=c,e.isLikely=l,e.isLikelyFmp4MediaSegment=function(t){t=n(t);for(var i=0;i<t.length;){var e=(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3])>>>0;if("moof"===o(t.subarray(i+4,i+8)))return!0;0===e||e+i>t.length?i=t.length:i+=e}return!1}},1013:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)};e.bytesToString=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,n(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},e.concatTypedArrays=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=e.reduce((function(t,e){return t+=e&&(e.byteLength||e.length)||0}),0),c=new Uint8Array(o),f=0;return e.forEach((function(t){t=n(t),c.set(t,f),f+=t.byteLength})),c},e.isTypedArray=function(t){return ArrayBuffer.isView(t)},e.stringToBytes=function(t,e){void 0===e&&(e=!1);return"string"!=typeof t&&t&&"function"==typeof t.toString&&(t=t.toString()),"string"!=typeof t?[]:(e||(t=unescape(encodeURIComponent(t))),t.split("").map((function(s){return 255&s.charCodeAt(0)})))},e.toUint8=n},1014:function(t,e,r){"use strict";var n=r(974),o=r(1015).handleRollover,c={};c.ts=r(1017),c.aac=r(1018);var f=r(975).ONE_SECOND_IN_TS,l=function(t,e,r){for(var n,o,f,l,h=0,d=188,m=!1;d<=t.byteLength;)if(71!==t[h]||71!==t[d]&&d!==t.byteLength)h++,d++;else{switch(n=t.subarray(h,d),c.ts.parseType(n,e.pid)){case"pes":o=c.ts.parsePesType(n,e.table),f=c.ts.parsePayloadUnitStartIndicator(n),"audio"===o&&f&&(l=c.ts.parsePesTime(n))&&(l.type="audio",r.audio.push(l),m=!0)}if(m)break;h+=188,d+=188}for(h=(d=t.byteLength)-188,m=!1;h>=0;)if(71!==t[h]||71!==t[d]&&d!==t.byteLength)h--,d--;else{switch(n=t.subarray(h,d),c.ts.parseType(n,e.pid)){case"pes":o=c.ts.parsePesType(n,e.table),f=c.ts.parsePayloadUnitStartIndicator(n),"audio"===o&&f&&(l=c.ts.parsePesTime(n))&&(l.type="audio",r.audio.push(l),m=!0)}if(m)break;h-=188,d-=188}},h=function(t,e,r){for(var n,o,f,l,h,i,d,m=0,v=188,y=!1,w={data:[],size:0};v<t.byteLength;)if(71!==t[m]||71!==t[v])m++,v++;else{switch(n=t.subarray(m,v),c.ts.parseType(n,e.pid)){case"pes":if(o=c.ts.parsePesType(n,e.table),f=c.ts.parsePayloadUnitStartIndicator(n),"video"===o&&(f&&!y&&(l=c.ts.parsePesTime(n))&&(l.type="video",r.video.push(l),y=!0),!r.firstKeyFrame)){if(f&&0!==w.size){for(h=new Uint8Array(w.size),i=0;w.data.length;)d=w.data.shift(),h.set(d,i),i+=d.byteLength;if(c.ts.videoPacketContainsKeyFrame(h)){var T=c.ts.parsePesTime(h);T?(r.firstKeyFrame=T,r.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}w.size=0}w.data.push(n),w.size+=n.byteLength}}if(y&&r.firstKeyFrame)break;m+=188,v+=188}for(m=(v=t.byteLength)-188,y=!1;m>=0;)if(71!==t[m]||71!==t[v])m--,v--;else{switch(n=t.subarray(m,v),c.ts.parseType(n,e.pid)){case"pes":o=c.ts.parsePesType(n,e.table),f=c.ts.parsePayloadUnitStartIndicator(n),"video"===o&&f&&(l=c.ts.parsePesTime(n))&&(l.type="video",r.video.push(l),y=!0)}if(y)break;m-=188,v-=188}},d=function(t){var e={pid:null,table:null},r={};for(var o in function(t,e){for(var r,n=0,o=188;o<t.byteLength;)if(71!==t[n]||71!==t[o])n++,o++;else{switch(r=t.subarray(n,o),c.ts.parseType(r,e.pid)){case"pat":e.pid||(e.pid=c.ts.parsePat(r));break;case"pmt":e.table||(e.table=c.ts.parsePmt(r))}if(e.pid&&e.table)return;n+=188,o+=188}}(t,e),e.table){if(e.table.hasOwnProperty(o))switch(e.table[o]){case n.H264_STREAM_TYPE:r.video=[],h(t,e,r),0===r.video.length&&delete r.video;break;case n.ADTS_STREAM_TYPE:r.audio=[],l(t,e,r),0===r.audio.length&&delete r.audio}}return r};t.exports={inspect:function(t,e){var r;return(r=c.aac.isLikelyAacData(t)?function(t){for(var e,r=!1,n=0,o=null,l=null,h=0,d=0;t.length-d>=3;){switch(c.aac.parseType(t,d)){case"timed-metadata":if(t.length-d<10){r=!0;break}if((h=c.aac.parseId3TagSize(t,d))>t.length){r=!0;break}null===l&&(e=t.subarray(d,d+h),l=c.aac.parseAacTimestamp(e)),d+=h;break;case"audio":if(t.length-d<7){r=!0;break}if((h=c.aac.parseAdtsSize(t,d))>t.length){r=!0;break}null===o&&(e=t.subarray(d,d+h),o=c.aac.parseSampleRate(e)),n++,d+=h;break;default:d++}if(r)return null}if(null===o||null===l)return null;var m=f/o;return{audio:[{type:"audio",dts:l,pts:l},{type:"audio",dts:l+1024*n*m,pts:l+1024*n*m}]}}(t):d(t))&&(r.audio||r.video)?(function(t,e){if(t.audio&&t.audio.length){var r=e;void 0===r&&(r=t.audio[0].dts),t.audio.forEach((function(t){t.dts=o(t.dts,r),t.pts=o(t.pts,r),t.dtsTime=t.dts/f,t.ptsTime=t.pts/f}))}if(t.video&&t.video.length){var n=e;if(void 0===n&&(n=t.video[0].dts),t.video.forEach((function(t){t.dts=o(t.dts,n),t.pts=o(t.pts,n),t.dtsTime=t.dts/f,t.ptsTime=t.pts/f})),t.firstKeyFrame){var c=t.firstKeyFrame;c.dts=o(c.dts,n),c.pts=o(c.pts,n),c.dtsTime=c.dts/f,c.ptsTime=c.dts/f}}}(r,e),r):null},parseAudioPes_:l}},1015:function(t,e,r){"use strict";var n=r(1016),o=function(t,e){var r=1;for(t>e&&(r=-1);Math.abs(e-t)>4294967296;)t+=8589934592*r;return t},c=function(t){var e,r;c.prototype.init.call(this),this.type_=t||"shared",this.push=function(data){"shared"!==this.type_&&data.type!==this.type_||(void 0===r&&(r=data.dts),data.dts=o(data.dts,r),data.pts=o(data.pts,r),e=data.dts,this.trigger("data",data))},this.flush=function(){r=e,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,e=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};c.prototype=new n,t.exports={TimestampRolloverStream:c,handleRollover:o}},1016:function(t,e,r){"use strict";var n=function(){this.init=function(){var t={};this.on=function(e,r){t[e]||(t[e]=[]),t[e]=t[e].concat(r)},this.off=function(e,r){var n;return!!t[e]&&(n=t[e].indexOf(r),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var r,i,n,o;if(r=t[e])if(2===arguments.length)for(n=r.length,i=0;i<n;++i)r[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(n=r.length,i=0;i<n;++i)r[i].apply(this,o)}},this.dispose=function(){t={}}}};n.prototype.pipe=function(t){return this.on("data",(function(data){t.push(data)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},n.prototype.push=function(data){this.trigger("data",data)},n.prototype.flush=function(t){this.trigger("done",t)},n.prototype.partialFlush=function(t){this.trigger("partialdone",t)},n.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},n.prototype.reset=function(t){this.trigger("reset",t)},t.exports=n},1017:function(t,e,r){"use strict";var n=r(974),o=function(t){var e=31&t[1];return e<<=8,e|=t[2]},c=function(t){return!!(64&t[1])},f=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},l=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(t,e){var r=o(t);return 0===r?"pat":r===e?"pmt":e?"pes":null},parsePat:function(t){var e=c(t),r=4+f(t);return e&&(r+=t[r]+1),(31&t[r+10])<<8|t[r+11]},parsePmt:function(t){var e={},r=c(t),n=4+f(t);if(r&&(n+=t[n]+1),1&t[n+5]){var o;o=3+((15&t[n+1])<<8|t[n+2])-4;for(var l=12+((15&t[n+10])<<8|t[n+11]);l<o;){var i=n+l;e[(31&t[i+1])<<8|t[i+2]]=t[i],l+=5+((15&t[i+3])<<8|t[i+4])}return e}},parsePayloadUnitStartIndicator:c,parsePesType:function(t,e){switch(e[o(t)]){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!c(t))return null;var e=4+f(t);if(e>=t.byteLength)return null;var r,n=null;return 192&(r=t[e+7])&&((n={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,n.pts*=4,n.pts+=(6&t[e+13])>>>1,n.dts=n.pts,64&r&&(n.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,n.dts*=4,n.dts+=(6&t[e+18])>>>1)),n},videoPacketContainsKeyFrame:function(t){for(var e=4+f(t),r=t.subarray(e),n=0,o=0,c=!1;o<r.byteLength-3;o++)if(1===r[o+2]){n=o+5;break}for(;n<r.byteLength;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}o+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===l(31&r[o+3])&&(c=!0);do{n++}while(1!==r[n]&&n<r.length);o=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===l(31&r[o+3])&&(c=!0),o=n-2,n+=3;break;default:n+=3}return r=r.subarray(o),n-=o,o=0,r&&r.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===l(31&r[o+3])&&(c=!0),c}}},1018:function(t,e,r){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],o=function(header,t){var e=header[t+6]<<21|header[t+7]<<14|header[t+8]<<7|header[t+9];return e=e>=0?e:0,(16&header[t+5])>>4?e+20:e+10},c=function(data,t){return data.length-t<10||data[t]!=="I".charCodeAt(0)||data[t+1]!=="D".charCodeAt(0)||data[t+2]!=="3".charCodeAt(0)?t:(t+=o(data,t),c(data,t))},f=function(data){return data[0]<<21|data[1]<<14|data[2]<<7|data[3]};t.exports={isLikelyAacData:function(data){var t=c(data,0);return data.length>=t+2&&255==(255&data[t])&&240==(240&data[t+1])&&16==(22&data[t+1])},parseId3TagSize:o,parseAdtsSize:function(header,t){var e=(224&header[t+5])>>5,r=header[t+4]<<3;return 6144&header[t+3]|r|e},parseType:function(header,t){return header[t]==="I".charCodeAt(0)&&header[t+1]==="D".charCodeAt(0)&&header[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&header[t]&&240==(240&header[t+1])?"audio":null},parseSampleRate:function(t){for(var i=0;i+5<t.length;){if(255===t[i]&&240==(246&t[i+1]))return n[(60&t[i+2])>>>2];i++}return null},parseAacTimestamp:function(t){var e,r,n;e=10,64&t[5]&&(e+=4,e+=f(t.subarray(10,14)));do{if((r=f(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){n=t.subarray(e+10,e+r+10);for(var i=0;i<n.byteLength;i++)if(0===n[i]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,r){var i,n="";for(i=e;i<r;i++)n+="%"+("00"+t[i].toString(16)).slice(-2);return n}(n,0,i))){var o=n.subarray(i+1),c=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return c*=4,c+=3&o[7]}break}}e+=10,e+=r}while(e<t.byteLength);return null}}},1019:function(t,e,r){"use strict";var n,o,c,f,l,h,d=r(874).toUnsigned,m=r(874).toHexString,v=r(1020),y=r(976),w=r(1021),T=r(1022),E=r(1024);n=function(t){return v(t,["moov","trak"]).reduce((function(t,e){var r,n,o,c,f;return(r=v(e,["tkhd"])[0])?(n=r[0],c=d(r[o=0===n?12:20]<<24|r[o+1]<<16|r[o+2]<<8|r[o+3]),(f=v(e,["mdia","mdhd"])[0])?(o=0===(n=f[0])?12:20,t[c]=d(f[o]<<24|f[o+1]<<16|f[o+2]<<8|f[o+3]),t):null):null}),{})},o=function(t,e){var r,n,o;return r=v(e,["moof","traf"]),n=[].concat.apply([],r.map((function(e){return v(e,["tfhd"]).map((function(r){var n,o;return n=d(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),o=t[n]||9e4,(v(e,["tfdt"]).map((function(t){var e,r;return e=t[0],r=d(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(r*=Math.pow(2,32),r+=d(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),r}))[0]||1/0)/o}))}))),o=Math.min.apply(null,n),isFinite(o)?o:0},c=function(t,e){var r,n=v(e,["moof","traf"]),o=0,c=0;if(n&&n.length){var f=v(n[0],["tfhd"])[0],l=v(n[0],["trun"])[0],h=v(n[0],["tfdt"])[0];if(f)r=w(f).trackId;if(h)o=E(h).baseMediaDecodeTime;if(l){var d=T(l);d.samples&&d.samples.length&&(c=d.samples[0].compositionTimeOffset||0)}}return(o+c)/(t[r]||9e4)},f=function(t){var e=v(t,["moov","trak"]),r=[];return e.forEach((function(t){var e=v(t,["mdia","hdlr"]),n=v(t,["tkhd"]);e.forEach((function(t,e){var view,o,c=y(t.subarray(8,12)),f=n[e];"vide"===c&&(o=0===(view=new DataView(f.buffer,f.byteOffset,f.byteLength)).getUint8(0)?view.getUint32(12):view.getUint32(20),r.push(o))}))})),r},h=function(t){var e=0===t[0]?12:20;return d(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])},l=function(t){var e=v(t,["moov","trak"]),r=[];return e.forEach((function(t){var view,e,track={},n=v(t,["tkhd"])[0];n&&(e=(view=new DataView(n.buffer,n.byteOffset,n.byteLength)).getUint8(0),track.id=0===e?view.getUint32(12):view.getUint32(20));var o=v(t,["mdia","hdlr"])[0];if(o){var c=y(o.subarray(8,12));track.type="vide"===c?"video":"soun"===c?"audio":c}var f=v(t,["mdia","minf","stbl","stsd"])[0];if(f){var l=f.subarray(8);track.codec=y(l.subarray(4,8));var d,w=v(l,[track.codec])[0];w&&(/^[a-z]vc[1-9]$/i.test(track.codec)?(d=w.subarray(78),"avcC"===y(d.subarray(4,8))&&d.length>11?(track.codec+=".",track.codec+=m(d[9]),track.codec+=m(d[10]),track.codec+=m(d[11])):track.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(track.codec)&&(d=w.subarray(28),"esds"===y(d.subarray(4,8))&&d.length>20&&0!==d[19]?(track.codec+="."+m(d[19]),track.codec+="."+m(d[20]>>>2&63).replace(/^0/,"")):track.codec="mp4a.40.2"))}var T=v(t,["mdia","mdhd"])[0];T&&(track.timescale=h(T)),r.push(track)})),r},t.exports={findBox:v,parseType:y,timescale:n,startTime:o,compositionStartTime:c,videoTrackIds:f,tracks:l,getTimescaleFromMediaHeader:h}},1020:function(t,e,r){var n=r(874).toUnsigned,o=r(976),c=function(data,path){var i,t,e,r,f,l=[];if(!path.length)return null;for(i=0;i<data.byteLength;)t=n(data[i]<<24|data[i+1]<<16|data[i+2]<<8|data[i+3]),e=o(data.subarray(i+4,i+8)),r=t>1?i+t:data.byteLength,e===path[0]&&(1===path.length?l.push(data.subarray(i+8,r)):(f=c(data.subarray(i+8,r),path.slice(1))).length&&(l=l.concat(f))),i=r;return l};t.exports=c},1021:function(t,e){t.exports=function(data){var i,view=new DataView(data.buffer,data.byteOffset,data.byteLength),t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),trackId:view.getUint32(4)},e=1&t.flags[2],r=2&t.flags[2],n=8&t.flags[2],o=16&t.flags[2],c=32&t.flags[2],f=65536&t.flags[0],l=131072&t.flags[0];return i=8,e&&(i+=4,t.baseDataOffset=view.getUint32(12),i+=4),r&&(t.sampleDescriptionIndex=view.getUint32(i),i+=4),n&&(t.defaultSampleDuration=view.getUint32(i),i+=4),o&&(t.defaultSampleSize=view.getUint32(i),i+=4),c&&(t.defaultSampleFlags=view.getUint32(i)),f&&(t.durationIsEmpty=!0),!e&&l&&(t.baseDataOffsetIsMoof=!0),t}},1022:function(t,e,r){var n=r(1023);t.exports=function(data){var t,e={version:data[0],flags:new Uint8Array(data.subarray(1,4)),samples:[]},view=new DataView(data.buffer,data.byteOffset,data.byteLength),r=1&e.flags[2],o=4&e.flags[2],c=1&e.flags[1],f=2&e.flags[1],l=4&e.flags[1],h=8&e.flags[1],d=view.getUint32(4),m=8;for(r&&(e.dataOffset=view.getInt32(m),m+=4),o&&d&&(t={flags:n(data.subarray(m,m+4))},m+=4,c&&(t.duration=view.getUint32(m),m+=4),f&&(t.size=view.getUint32(m),m+=4),h&&(1===e.version?t.compositionTimeOffset=view.getInt32(m):t.compositionTimeOffset=view.getUint32(m),m+=4),e.samples.push(t),d--);d--;)t={},c&&(t.duration=view.getUint32(m),m+=4),f&&(t.size=view.getUint32(m),m+=4),l&&(t.flags=n(data.subarray(m,m+4)),m+=4),h&&(1===e.version?t.compositionTimeOffset=view.getInt32(m):t.compositionTimeOffset=view.getUint32(m),m+=4),e.samples.push(t);return e}},1023:function(t,e){t.exports=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}}},1024:function(t,e,r){var n=r(874).toUnsigned;t.exports=function(data){var t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),baseMediaDecodeTime:n(data[4]<<24|data[5]<<16|data[6]<<8|data[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=n(data[8]<<24|data[9]<<16|data[10]<<8|data[11])),t}},1025:function(t,e,r){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(861)),c={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/},f=function(t){return t?t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,e,r){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(r).toString(16)).slice(-2)})):t},l=function(t){return t.map(f)},h=function(t){void 0===t&&(t="");var e=t.split(","),r={};return e.forEach((function(t){t=t.trim(),["video","audio"].forEach((function(e){var n=c[e].exec(t.toLowerCase());if(n&&!(n.length<=1)){var o=t.substring(0,n[1].length),details=t.replace(o,"");r[e]={type:o,details:details}}}))})),r},d=function(t){return void 0===t&&(t=""),c.audio.test(t.trim().toLowerCase())},m=function(t){if(t&&"string"==typeof t){var e=t.toLowerCase().split(",").map((function(t){return f(t.trim())})),r="video";1===e.length&&d(e[0])&&(r="audio");var n="mp4";return e.every((function(t){return c.mp4.test(t)}))?n="mp4":e.every((function(t){return c.webm.test(t)}))?n="webm":e.every((function(t){return c.ogg.test(t)}))&&(n="ogg"),r+"/"+n+';codecs="'+t+'"'}};e.DEFAULT_AUDIO_CODEC="mp4a.40.2",e.DEFAULT_VIDEO_CODEC="avc1.4d400d",e.browserSupportsCodec=function(t){return void 0===t&&(t=""),o.default.MediaSource&&o.default.MediaSource.isTypeSupported&&o.default.MediaSource.isTypeSupported(m(t))||!1},e.codecsFromDefault=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var r=t.mediaGroups.AUDIO[e];if(!r)return null;for(var n in r){var o=r[n];if(o.default&&o.playlists)return h(o.playlists[0].attributes.CODECS)}return null},e.getMimeForCodec=m,e.isAudioCodec=d,e.isVideoCodec=function(t){return void 0===t&&(t=""),c.video.test(t.trim().toLowerCase())},e.mapLegacyAvcCodecs=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t){return l([t])[0]}))},e.muxerSupportsCodec=function(t){return void 0===t&&(t=""),t.toLowerCase().split(",").every((function(t){return t=t.trim(),c.muxerVideo.test(t)||c.muxerAudio.test(t)}))},e.parseCodecs=h,e.translateLegacyCodec=f,e.translateLegacyCodecs=l},861:function(t,e,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,r(18))},874:function(t,e){t.exports={toUnsigned:function(t){return t>>>0},toHexString:function(t){return("00"+t.toString(16)).slice(-2)}}},969:function(t,e,r){(function(e){var n,o=void 0!==e?e:"undefined"!=typeof window?window:{},c=r(802);"undefined"!=typeof document?n=document:(n=o["__GLOBAL_DOCUMENT_CACHE@4"])||(n=o["__GLOBAL_DOCUMENT_CACHE@4"]=c),t.exports=n}).call(this,r(18))},970:function(t,e,r){"use strict";var n=r(1001),o=r(861);function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var f=c(n),l=c(o);t.exports=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=f.default.buildAbsoluteURL(l.default.location&&l.default.location.href||"",t)),f.default.buildAbsoluteURL(t,e))}},971:function(t,e,r){"use strict";(function(e){function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=n(r(861));t.exports=function(t){for(var s,r=(s=t,o.default.atob?o.default.atob(s):e.from(s,"base64").toString("binary")),n=new Uint8Array(r.length),i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}}).call(this,r(1004).Buffer)},972:function(t,e,r){function n(t){this.options=t||{locator:{}}}function o(){this.cdata=!1}function c(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function f(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function l(t,e,r){return"string"==typeof t?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}function h(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(source,t){var e=this.options,r=new d,n=e.domBuilder||new o,c=e.errorHandler,l=e.locator,h=e.xmlns||{},m={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&n.setDocumentLocator(l),r.errorHandler=function(t,e,r){if(!t){if(e instanceof o)return e;t=e}var n={},c=t instanceof Function;function l(e){var o=t[e];!o&&c&&(o=2==t.length?function(r){t(e,r)}:t),n[e]=o&&function(t){o("[xmldom "+e+"]\t"+t+f(r))}||function(){}}return r=r||{},l("warning"),l("error"),l("fatalError"),n}(c,n,l),r.domBuilder=e.domBuilder||n,/\/x?html?$/.test(t)&&(m.nbsp=" ",m.copy="©",h[""]="http://www.w3.org/1999/xhtml"),h.xml=h.xml||"http://www.w3.org/XML/1998/namespace",source?r.parse(source,h,m):r.errorHandler.error("invalid doc source"),n.doc},o.prototype={startDocument:function(){this.doc=(new m).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var o=this.doc,f=o.createElementNS(t,r||e),l=n.length;h(this,f),this.currentElement=f,this.locator&&c(this.locator,f);for(var i=0;i<l;i++){t=n.getURI(i);var d=n.getValue(i),m=(r=n.getQName(i),o.createAttributeNS(t,r));this.locator&&c(n.getLocator(i),m),m.value=m.nodeValue=d,f.setAttributeNode(m)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,data){var ins=this.doc.createProcessingInstruction(t,data);this.locator&&c(this.locator,ins),h(this,ins)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=l.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&c(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=l.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&c(this.locator,n),h(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var dt=n.createDocumentType(t,e,r);this.locator&&c(this.locator,dt),h(this,dt)}},warning:function(t){console.warn("[xmldom warning]\t"+t,f(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,f(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,f(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){o.prototype[t]=function(){return null}}));var d=r(1010).XMLReader,m=e.DOMImplementation=r(973).DOMImplementation;e.XMLSerializer=r(973).XMLSerializer,e.DOMParser=n},973:function(t,e){function r(t,e){for(var p in t)e[p]=t[p]}function n(t,e){var n=t.prototype;if(Object.create){var o=Object.create(e.prototype);n.__proto__=o}if(!(n instanceof e)){function c(){}c.prototype=e.prototype,r(n,c=new c),t.prototype=n=c}n.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),n.constructor=t)}var o={},c=o.ELEMENT_NODE=1,f=o.ATTRIBUTE_NODE=2,l=o.TEXT_NODE=3,h=o.CDATA_SECTION_NODE=4,d=o.ENTITY_REFERENCE_NODE=5,m=o.ENTITY_NODE=6,v=o.PROCESSING_INSTRUCTION_NODE=7,y=o.COMMENT_NODE=8,w=o.DOCUMENT_NODE=9,T=o.DOCUMENT_TYPE_NODE=10,E=o.DOCUMENT_FRAGMENT_NODE=11,A=o.NOTATION_NODE=12,S={},N={},I=(S.INDEX_SIZE_ERR=(N[1]="Index size error",1),S.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2),S.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3)),x=(S.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),S.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),S.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),S.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7),S.NOT_FOUND_ERR=(N[8]="Not found",8)),R=(S.NOT_SUPPORTED_ERR=(N[9]="Not supported",9),S.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10));S.INVALID_STATE_ERR=(N[11]="Invalid state",11),S.SYNTAX_ERR=(N[12]="Syntax error",12),S.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),S.NAMESPACE_ERR=(N[14]="Invalid namespace",14),S.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function D(code,t){if(t instanceof Error)var e=t;else e=this,Error.call(this,N[code]),this.message=N[code],Error.captureStackTrace&&Error.captureStackTrace(this,D);return e.code=code,t&&(this.message=this.message+": "+t),e}function C(){}function U(t,e){this._node=t,this._refresh=e,_(this)}function _(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);ft(t,"length",n.length),r(n,t),t._inc=e}}function O(){}function P(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function L(t,e,r,n){if(n?e[P(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var o=t.ownerDocument;o&&(n&&V(o,t,n),function(t,e,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(e._nsMap[r.prefix?r.localName:""]=r.value)}(o,t,r))}}function M(t,e,r){var i=P(e,r);if(!(i>=0))throw D(x,new Error(t.tagName+"@"+r));for(var n=e.length-1;i<n;)e[i]=e[++i];if(e.length=n,t){var o=t.ownerDocument;o&&(V(o,t,r),r.ownerElement=null)}}function k(t){if(this._features={},t)for(var e in t)this._features=t[e]}function B(){}function F(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function Y(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(Y(t,e))return!0}while(t=t.nextSibling)}function X(){}function V(t,e,r,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete e._nsMap[r.prefix?r.localName:""]}function z(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var o=e.firstChild,i=0;o;)n[i++]=o,o=o.nextSibling;n.length=i}}}function j(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,z(t.ownerDocument,t),e}function H(t,e,r){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===E){var o=e.firstChild;if(null==o)return e;var c=e.lastChild}else o=c=e;var pre=r?r.previousSibling:t.lastChild;o.previousSibling=pre,c.nextSibling=r,pre?pre.nextSibling=o:t.firstChild=o,null==r?t.lastChild=c:r.previousSibling=c;do{o.parentNode=t}while(o!==c&&(o=o.nextSibling));return z(t.ownerDocument||t,t),e.nodeType==E&&(e.firstChild=e.lastChild=null),e}function $(){this._nsMap={}}function G(){}function W(){}function K(){}function Z(){}function J(){}function Q(){}function tt(){}function et(){}function nt(){}function it(){}function at(){}function ot(){}function st(t,e){var r=[],n=9==this.nodeType?this.documentElement:this,o=n.prefix,c=n.namespaceURI;if(c&&null==o&&null==(o=n.lookupPrefix(c)))var f=[{namespace:c,prefix:null}];return ct(this,r,t,e,f),r.join("")}function ut(t,e,r){var n=t.prefix||"",o=t.namespaceURI;if(!n&&!o)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===o||"http://www.w3.org/2000/xmlns/"==o)return!1;for(var i=r.length;i--;){var c=r[i];if(c.prefix==n)return c.namespace!=o}return!0}function ct(t,e,r,n,o){if(n){if(!(t=n(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case c:o||(o=[]);o.length;var m=t.attributes,A=m.length,S=t.firstChild,N=t.tagName;r="http://www.w3.org/1999/xhtml"===t.namespaceURI||r,e.push("<",N);for(var i=0;i<A;i++){"xmlns"==(I=m.item(i)).prefix?o.push({prefix:I.localName,namespace:I.value}):"xmlns"==I.nodeName&&o.push({prefix:"",namespace:I.value})}for(i=0;i<A;i++){var I;if(ut(I=m.item(i),0,o)){var x=I.prefix||"",R=I.namespaceURI,D=x?" xmlns:"+x:" xmlns";e.push(D,'="',R,'"'),o.push({prefix:x,namespace:R})}ct(I,e,r,n,o)}if(ut(t,0,o)){x=t.prefix||"",R=t.namespaceURI,D=x?" xmlns:"+x:" xmlns";e.push(D,'="',R,'"'),o.push({prefix:x,namespace:R})}if(S||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(N)){if(e.push(">"),r&&/^script$/i.test(N))for(;S;)S.data?e.push(S.data):ct(S,e,r,n,o),S=S.nextSibling;else for(;S;)ct(S,e,r,n,o),S=S.nextSibling;e.push("</",N,">")}else e.push("/>");return;case w:case E:for(S=t.firstChild;S;)ct(S,e,r,n,o),S=S.nextSibling;return;case f:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,F),'"');case l:return e.push(t.data.replace(/[<&]/g,F));case h:return e.push("<![CDATA[",t.data,"]]>");case y:return e.push("\x3c!--",t.data,"--\x3e");case T:var C=t.publicId,U=t.systemId;if(e.push("<!DOCTYPE ",t.name),C)e.push(' PUBLIC "',C),U&&"."!=U&&e.push('" "',U),e.push('">');else if(U&&"."!=U)e.push(' SYSTEM "',U,'">');else{var sub=t.internalSubset;sub&&e.push(" [",sub,"]"),e.push(">")}return;case v:return e.push("<?",t.target," ",t.data,"?>");case d:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function ft(object,t,e){object[t]=e}D.prototype=Error.prototype,r(S,D),C.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],i=0;i<this.length;i++)ct(this[i],r,t,e);return r.join("")}},U.prototype.item=function(i){return _(this),this[i]},n(U,C),O.prototype={length:0,item:C.prototype.item,getNamedItem:function(t){for(var i=this.length;i--;){var e=this[i];if(e.nodeName==t)return e}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new D(R);var r=this.getNamedItem(t.nodeName);return L(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e,r=t.ownerElement;if(r&&r!=this._ownerElement)throw new D(R);return e=this.getNamedItemNS(t.namespaceURI,t.localName),L(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return M(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return M(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var r=this[i];if(r.localName==e&&r.namespaceURI==t)return r}return null}},k.prototype={hasFeature:function(t,e){var r=this._features[t.toLowerCase()];return!(!r||e&&!(e in r))},createDocument:function(t,e,r){var n=new X;if(n.implementation=this,n.childNodes=new C,n.doctype=r,r&&n.appendChild(r),e){var o=n.createElementNS(t,e);n.appendChild(o)}return n},createDocumentType:function(t,e,r){var n=new Q;return n.name=t,n.nodeName=t,n.publicId=e,n.systemId=r,n}},B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return H(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return j(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,r,n){var o=new r.constructor;for(var l in r){var h=r[l];"object"!=typeof h&&h!=o[l]&&(o[l]=h)}r.childNodes&&(o.childNodes=new C);switch(o.ownerDocument=e,o.nodeType){case c:var d=r.attributes,m=o.attributes=new O,v=d.length;m._ownerElement=o;for(var i=0;i<v;i++)o.setAttributeNode(t(e,d.item(i),!0));break;case f:n=!0}if(n)for(var y=r.firstChild;y;)o.appendChild(t(e,y,n)),y=y.nextSibling;return o}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==l&&t.nodeType==l?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var map=e._nsMap;if(map)for(var r in map)if(map[r]==t)return r;e=e.nodeType==f?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var map=e._nsMap;if(map&&t in map)return map[t];e=e.nodeType==f?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},r(o,B),r(o,B.prototype),X.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==E){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return null==this.documentElement&&t.nodeType==c&&(this.documentElement=t),H(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),j(this,t)},importNode:function(t,e){return function t(e,r,n){var o;switch(r.nodeType){case c:(o=r.cloneNode(!1)).ownerDocument=e;case E:break;case f:n=!0}o||(o=r.cloneNode(!1));if(o.ownerDocument=e,o.parentNode=null,n)for(var l=r.firstChild;l;)o.appendChild(t(e,l,n)),l=l.nextSibling;return o}(this,t,e)},getElementById:function(t){var e=null;return Y(this.documentElement,(function(r){if(r.nodeType==c&&r.getAttribute("id")==t)return e=r,!0})),e},createElement:function(t){var e=new $;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new C,(e.attributes=new O)._ownerElement=e,e},createDocumentFragment:function(){var t=new it;return t.ownerDocument=this,t.childNodes=new C,t},createTextNode:function(data){var t=new K;return t.ownerDocument=this,t.appendData(data),t},createComment:function(data){var t=new Z;return t.ownerDocument=this,t.appendData(data),t},createCDATASection:function(data){var t=new J;return t.ownerDocument=this,t.appendData(data),t},createProcessingInstruction:function(t,data){var e=new at;return e.ownerDocument=this,e.tagName=e.target=t,e.nodeValue=e.data=data,e},createAttribute:function(t){var e=new G;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new nt;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new $,n=e.split(":"),o=r.attributes=new O;return r.childNodes=new C,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,o._ownerElement=r,r},createAttributeNS:function(t,e){var r=new G,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},n(X,B),$.prototype={nodeType:c,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===E?this.insertBefore(t,null):function(t,e){var r=e.parentNode;if(r){var pre=t.lastChild;r.removeChild(e);pre=t.lastChild}return pre=t.lastChild,e.parentNode=t,e.previousSibling=pre,e.nextSibling=null,pre?pre.nextSibling=e:t.firstChild=e,t.lastChild=e,z(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new U(this,(function(base){var e=[];return Y(base,(function(r){r===base||r.nodeType!=c||"*"!==t&&r.tagName!=t||e.push(r)})),e}))},getElementsByTagNameNS:function(t,e){return new U(this,(function(base){var r=[];return Y(base,(function(n){n===base||n.nodeType!==c||"*"!==t&&n.namespaceURI!==t||"*"!==e&&n.localName!=e||r.push(n)})),r}))}},X.prototype.getElementsByTagName=$.prototype.getElementsByTagName,X.prototype.getElementsByTagNameNS=$.prototype.getElementsByTagNameNS,n($,B),G.prototype.nodeType=f,n(G,B),W.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(text){text=this.data+text,this.nodeValue=this.data=text,this.length=text.length},insertData:function(t,text){this.replaceData(t,0,text)},appendChild:function(t){throw new Error(N[I])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,text){text=this.data.substring(0,t)+text+this.data.substring(t+e),this.nodeValue=this.data=text,this.length=text.length}},n(W,B),K.prototype={nodeName:"#text",nodeType:l,splitText:function(t){var text=this.data,e=text.substring(t);text=text.substring(0,t),this.data=this.nodeValue=text,this.length=text.length;var r=this.ownerDocument.createTextNode(e);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},n(K,W),Z.prototype={nodeName:"#comment",nodeType:y},n(Z,W),J.prototype={nodeName:"#cdata-section",nodeType:h},n(J,W),Q.prototype.nodeType=T,n(Q,B),tt.prototype.nodeType=A,n(tt,B),et.prototype.nodeType=m,n(et,B),nt.prototype.nodeType=d,n(nt,B),it.prototype.nodeName="#document-fragment",it.prototype.nodeType=E,n(it,B),at.prototype.nodeType=v,n(at,B),ot.prototype.serializeToString=function(t,e,r){return st.call(t,e,r)},B.prototype.toString=st;try{if(Object.defineProperty){Object.defineProperty(U.prototype,"length",{get:function(){return _(this),this.$$length}}),Object.defineProperty(B.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case c:case E:var r=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}}(this)},set:function(data){switch(this.nodeType){case c:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(data||String(data))&&this.appendChild(this.ownerDocument.createTextNode(data));break;default:this.data=data,this.value=data,this.nodeValue=data}}}),ft=function(object,t,e){object["$$"+t]=e}}}catch(t){}e.DOMImplementation=k,e.XMLSerializer=ot},974:function(t,e,r){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},975:function(t,e){var r,n,o,c,f,l,h;r=function(t){return 9e4*t},n=function(t,e){return t*e},o=function(t){return t/9e4},c=function(t,e){return t/e},f=function(t,e){return r(c(t,e))},l=function(t,e){return n(o(t),e)},h=function(t,e,r){return o(r?t:t-e)},t.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:r,secondsToAudioTs:n,videoTsToSeconds:o,audioTsToSeconds:c,audioTsToVideoTs:f,videoTsToAudioTs:l,metadataTsToSeconds:h}},976:function(t,e){t.exports=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])}},992:function(t,e){t.exports=function(t,e){var r,n=null;try{r=JSON.parse(t,e)}catch(t){n=t}return[n,r]}},993:function(t,e){function r(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return c[t];var r,f=String(t);return(r=n[f.toLowerCase()])?r:(r=o[f.toLowerCase()])||(1===f.length?f.charCodeAt(0):void 0)}r.isEventKey=function(t,e){if(t&&"object"==typeof t){var r=t.which||t.keyCode||t.charCode;if(null==r)return!1;if("string"==typeof e){var c;if(c=n[e.toLowerCase()])return c===r;if(c=o[e.toLowerCase()])return c===r}else if("number"==typeof e)return e===r;return!1}};var n=(e=t.exports=r).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)n[i-48]=i;for(i=1;i<13;i++)n["f"+i]=i+111;for(i=0;i<10;i++)n["numpad "+i]=i+96;var c=e.names=e.title={};for(i in n)c[n[i]]=i;for(var f in o)n[f]=o[f]},994:function(t,e,r){"use strict";var n=r(995),o=r(721),c=r(996);function f(t,e,r){var n=t;return c(e)?(r=e,"string"==typeof t&&(n={uri:t})):n=o({},e,{uri:t}),n.callback=r,n}function l(t,e,r){return h(e=f(t,e,r))}function h(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,r=function(r,n,body){e||(e=!0,t.callback(r,n,body))};function n(){var body=void 0;if(body=d.response?d.response:d.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(d),E)try{body=JSON.parse(body)}catch(t){}return body}function o(t){return clearTimeout(m),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,A)}function c(){if(!h){var e;clearTimeout(m),e=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var o=A,c=null;return 0!==e?(o={body:n(),statusCode:e,method:y,headers:{},url:v,rawRequest:d},d.getAllResponseHeaders&&(o.headers=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var r=t.indexOf(":"),n=t.slice(0,r).trim().toLowerCase(),o=t.slice(r+1).trim();void 0===e[n]?e[n]=o:Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]})),e):e}(d.getAllResponseHeaders()))):c=new Error("Internal XMLHttpRequest Error"),r(c,o,o.body)}}var f,h,d=t.xhr||null;d||(d=t.cors||t.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var m,v=d.url=t.uri||t.url,y=d.method=t.method||"GET",body=t.body||t.data,w=d.headers=t.headers||{},T=!!t.sync,E=!1,A={body:void 0,headers:{},statusCode:0,method:y,url:v,rawRequest:d};if("json"in t&&!1!==t.json&&(E=!0,w.accept||w.Accept||(w.Accept="application/json"),"GET"!==y&&"HEAD"!==y&&(w["content-type"]||w["Content-Type"]||(w["Content-Type"]="application/json"),body=JSON.stringify(!0===t.json?body:t.json))),d.onreadystatechange=function(){4===d.readyState&&setTimeout(c,0)},d.onload=c,d.onerror=o,d.onprogress=function(){},d.onabort=function(){h=!0},d.ontimeout=o,d.open(y,v,!T,t.username,t.password),T||(d.withCredentials=!!t.withCredentials),!T&&t.timeout>0&&(m=setTimeout((function(){if(!h){h=!0,d.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}}),t.timeout)),d.setRequestHeader)for(f in w)w.hasOwnProperty(f)&&d.setRequestHeader(f,w[f]);else if(t.headers&&!function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(body||null),d}t.exports=l,t.exports.default=l,l.XMLHttpRequest=n.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:n.XDomainRequest,function(t,e){for(var i=0;i<t.length;i++)e(t[i])}(["get","put","post","patch","head","delete"],(function(t){l["delete"===t?"del":t]=function(e,r,n){return(r=f(e,r,n)).method=t.toUpperCase(),h(r)}}))},995:function(t,e,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,r(18))},996:function(t,e){t.exports=function(t){if(!t)return!1;var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var r=Object.prototype.toString},997:function(t,e,r){var n=r(861),o=t.exports={WebVTT:r(998),VTTCue:r(999),VTTRegion:r(1e3)};n.vttjs=o,n.WebVTT=o.WebVTT;var c=o.VTTCue,f=o.VTTRegion,l=n.VTTCue,h=n.VTTRegion;o.shim=function(){n.VTTCue=c,n.VTTRegion=f},o.restore=function(){n.VTTCue=l,n.VTTRegion=h},n.VTTCue||o.shim()},998:function(t,e,r){var n=r(969),o=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function c(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function f(input){function t(t,e,s,r){return 3600*(0|t)+60*(0|e)+(0|s)+(0|r)/1e3}var e=input.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return e?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):e[1]>59?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null}function l(){this.values=o(null)}function h(input,t,e,r){var n=r?input.split(r):[input];for(var i in n)if("string"==typeof n[i]){var o=n[i].split(e);if(2===o.length)t(o[0],o[1])}}function d(input,t,e){var r=input;function n(){var t=f(input);if(null===t)throw new c(c.Errors.BadTimeStamp,"Malformed timestamp: "+r);return input=input.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){input=input.replace(/^\s+/,"")}if(o(),t.startTime=n(),o(),"--\x3e"!==input.substr(0,3))throw new c(c.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);input=input.substr(3),o(),t.endTime=n(),o(),function(input,t){var r=new l;h(input,(function(t,n){switch(t){case"region":for(var i=e.length-1;i>=0;i--)if(e[i].id===n){r.set(t,e[i].region);break}break;case"vertical":r.alt(t,n,["rl","lr"]);break;case"line":var o=n.split(","),c=o[0];r.integer(t,c),r.percent(t,c)&&r.set("snapToLines",!1),r.alt(t,c,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=n.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","center","end"]);break;case"size":r.percent(t,n);break;case"align":r.alt(t,n,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(t){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(e){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(e){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(input,t)}c.prototype=o(Error.prototype),c.prototype.constructor=c,c.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},l.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,a){for(var r=0;r<a.length;++r)if(e===a[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var m=n.createElement("textarea"),v={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},y={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},w={v:"title",lang:"lang"},T={rt:"ruby"};function E(t,input){function e(){if(!input)return null;var t,e=input.match(/^([^<]*)(<[^>]*>?)?/);return t=e[1]?e[1]:e[2],input=input.substr(t.length),t}function r(t,element){return!T[element.localName]||T[element.localName]===t.localName}function n(e,r){var n=v[e];if(!n)return null;var element=t.document.createElement(n),o=w[e];return o&&r&&(element[o]=r.trim()),element}for(var o,s,c=t.document.createElement("div"),l=c,h=[];null!==(o=e());)if("<"!==o[0])l.appendChild(t.document.createTextNode((s=o,m.innerHTML=s,s=m.textContent,m.textContent="",s)));else{if("/"===o[1]){h.length&&h[h.length-1]===o.substr(2).replace(">","")&&(h.pop(),l=l.parentNode);continue}var d,E=f(o.substr(1,o.length-2));if(E){d=t.document.createProcessingInstruction("timestamp",E),l.appendChild(d);continue}var A=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!A)continue;if(!(d=n(A[1],A[3])))continue;if(!r(l,d))continue;if(A[2]){var S=A[2].split(".");S.forEach((function(t){var e=/^bg_/.test(t),r=e?t.slice(3):t;if(y.hasOwnProperty(r)){var n=e?"background-color":"color",o=y[r];d.style[n]=o}})),d.className=S.join(" ")}h.push(A[1]),l.appendChild(d),l=d}return c}var A=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function S(t){for(var i=0;i<A.length;i++){var e=A[i];if(t>=e[0]&&t<=e[1])return!0}return!1}function N(t){var e=[],text="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function n(t){if(!t||!t.length)return null;var e=t.pop(),text=e.textContent||e.innerText;if(text){var o=text.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):text}return"ruby"===e.tagName?n(t):e.childNodes?(r(t,e),n(t)):void 0}for(r(e,t);text=n(e);)for(var i=0;i<text.length;i++)if(S(text.charCodeAt(i)))return"rtl";return"ltr"}function I(){}function x(t,e,r){I.call(this),this.cue=e,this.cueDiv=E(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:N(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var o=0;switch(e.positionAlign){case"start":o=e.position;break;case"center":o=e.position-e.size/2;break;case"end":o=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(o,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(o,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function R(t){var e,r,n,o;if(t.div){r=t.div.offsetHeight,n=t.div.offsetWidth,o=t.div.offsetTop;var c=(c=t.div.childNodes)&&(c=c[0])&&c.getClientRects&&c.getClientRects();t=t.div.getBoundingClientRect(),e=c?Math.max(c[0]&&c[0].height||0,t.height/c.length):0}this.left=t.left,this.right=t.right,this.top=t.top||o,this.height=t.height||r,this.bottom=t.bottom||o+(t.height||r),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight}function D(t,e,r,n){var o=new R(e),c=e.cue,f=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var track=t.track,e=track.textTrackList,r=0,i=0;i<e.length&&e[i]!==track;i++)"showing"===e[i].mode&&r++;return-1*++r}(c),l=[];if(c.snapToLines){var h;switch(c.vertical){case"":l=["+y","-y"],h="height";break;case"rl":l=["+x","-x"],h="width";break;case"lr":l=["-x","+x"],h="width"}var d=o.lineHeight,m=d*Math.round(f),v=r[h]+d,y=l[0];Math.abs(m)>v&&(m=m<0?-1:1,m*=Math.ceil(v/d)*d),f<0&&(m+=""===c.vertical?r.height:r.width,l=l.reverse()),o.move(y,m)}else{var w=o.lineHeight/r.height*100;switch(c.lineAlign){case"center":f-=w/2;break;case"end":f-=w}switch(c.vertical){case"":e.applyStyles({top:e.formatStyle(f,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(f,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(f,"%")})}l=["+y","-x","+x","-y"],o=new R(e)}var T=function(b,t){for(var e,o=new R(b),c=1,i=0;i<t.length;i++){for(;b.overlapsOppositeAxis(r,t[i])||b.within(r)&&b.overlapsAny(n);)b.move(t[i]);if(b.within(r))return b;var p=b.intersectPercentage(r);c>p&&(e=new R(b),c=p),b=new R(o)}return e||o}(o,l);e.move(T.toCSSCompatValues(r))}function C(){}I.prototype.applyStyles=function(t,div){for(var e in div=div||this.div,t)t.hasOwnProperty(e)&&(div.style[e]=t[e])},I.prototype.formatStyle=function(t,e){return 0===t?0:t+e},x.prototype=o(I.prototype),x.prototype.constructor=x,R.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},R.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},R.prototype.overlapsAny=function(t){for(var i=0;i<t.length;i++)if(this.overlaps(t[i]))return!0;return!1},R.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},R.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},R.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},R.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},R.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r}},C.StringDecoder=function(){return{decode:function(data){if(!data)return"";if("string"!=typeof data)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(data))}}},C.convertCueToDOMTree=function(t,e){return t&&e?E(t,e):null};C.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=t.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",r.appendChild(n),function(t){for(var i=0;i<t.length;i++)if(t[i].hasBeenReset||!t[i].displayState)return!0;return!1}(e)){var o=[],c=R.getSimpleBoxPosition(n),f={font:Math.round(.05*c.height*100)/100+"px sans-serif"};!function(){for(var r,l,i=0;i<e.length;i++)l=e[i],r=new x(t,l,f),n.appendChild(r.div),D(0,r,c,o),l.displayState=r.div,o.push(R.getSimpleBoxPosition(r))}()}else for(var i=0;i<e.length;i++)n.appendChild(e[i].displayState)},C.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},C.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof c))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(data){var t=this;function e(){for(var e=t.buffer,r=0;r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var line=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),line}function r(input){input.match(/X-TIMESTAMP-MAP/)?h(input,(function(e,r){switch(e){case"X-TIMESTAMP-MAP":!function(input){var e=new l;h(input,(function(t,r){switch(t){case"MPEGT":e.integer(t+"S",r);break;case"LOCA":e.set(t+"L",f(r))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:e.get("MPEGTS"),LOCAL:e.get("LOCAL")})}(r)}}),/=/):h(input,(function(e,r){switch(e){case"Region":!function(input){var e=new l;if(h(input,(function(t,r){switch(t){case"id":e.set(t,r);break;case"width":e.percent(t,r);break;case"lines":e.integer(t,r);break;case"regionanchor":case"viewportanchor":var n=r.split(",");if(2!==n.length)break;var o=new l;if(o.percent("x",n[0]),o.percent("y",n[1]),!o.has("x")||!o.has("y"))break;e.set(t+"X",o.get("x")),e.set(t+"Y",o.get("y"));break;case"scroll":e.alt(t,r,["up"])}}),/=/,/\s/),e.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=e.get("width",100),r.lines=e.get("lines",3),r.regionAnchorX=e.get("regionanchorX",0),r.regionAnchorY=e.get("regionanchorY",100),r.viewportAnchorX=e.get("viewportanchorX",0),r.viewportAnchorY=e.get("viewportanchorY",100),r.scroll=e.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:e.get("id"),region:r})}}(r)}}),/:/)}data&&(t.buffer+=t.decoder.decode(data,{stream:!0}));try{var line;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var n=(line=e()).match(/^WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new c(c.Errors.BadSignature);t.state="HEADER"}for(var o=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:line=e(),t.state){case"HEADER":/:/.test(line)?r(line):line||(t.state="ID");continue;case"NOTE":line||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(line)){t.state="NOTE";break}if(!line)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(e){t.cue.align="middle"}if(t.state="CUE",-1===line.indexOf("--\x3e")){t.cue.id=line;continue}case"CUE":try{d(line,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var m=-1!==line.indexOf("--\x3e");if(!line||m&&(o=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=line.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":line||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new c(c.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}},t.exports=C},999:function(t,e){var r={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function o(t){return"string"==typeof t&&(!!n[t.toLowerCase()]&&t.toLowerCase())}function c(t,e,text){this.hasBeenReset=!1;var n="",c=!1,f=t,l=e,h=text,d=null,m="",v=!0,y="auto",w="start",T="auto",E="auto",A=100,S="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(t){n=""+t}},pauseOnExit:{enumerable:!0,get:function(){return c},set:function(t){c=!!t}},startTime:{enumerable:!0,get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");l=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return h},set:function(t){h=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return d},set:function(t){d=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return m},set:function(t){var e=function(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");m=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return y},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return w},set:function(t){var e=o(t);e?(w=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return T},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");T=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return E},set:function(t){var e=o(t);e?(E=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return A},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");A=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return S},set:function(t){var e=o(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");S=e,this.hasBeenReset=!0}}}),this.displayState=void 0}c.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=c}}]);