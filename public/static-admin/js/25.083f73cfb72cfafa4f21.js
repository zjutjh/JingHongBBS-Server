(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{CKnL:function(e,t,a){"use strict";a.r(t);var n=a("i7/w"),i=a.n(n);const s=i.a.prototype.$isServer,o=(s||Number(document.documentMode),!s&&document.addEventListener?function(e,t,a){e&&t&&a&&e.addEventListener(t,a,!1)}:function(e,t,a){e&&t&&a&&e.attachEvent("on"+t,a)}),r=!s&&document.removeEventListener?function(e,t,a){e&&t&&e.removeEventListener(t,a,!1)}:function(e,t,a){e&&t&&e.detachEvent("on"+t,a)};Object.prototype.hasOwnProperty;function l(e){let t=!1;return function(...a){t||(t=!0,window.requestAnimationFrame(n=>{e.apply(this,a),t=!1}))}}const c={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},d=!i.a.prototype.$isServer&&window.navigator.userAgent.match(/firefox/i)?"DOMMouseScroll":"mousewheel";var m={name:"elImageViewer",props:{urlList:{type:Array,default:()=>[]},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:()=>{}},onClose:{type:Function,default:()=>{}},initialIndex:{type:Number,default:0},appendToBody:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0}},data(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,mode:c.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle(){return this.urlList.length<=1},isFirst(){return 0===this.index},isLast(){return this.index===this.urlList.length-1},currentImg(){return this.urlList[this.index]},imgStyle(){const{scale:e,deg:t,offsetX:a,offsetY:n,enableTransition:i}=this.transform,s={transform:`scale(${e}) rotate(${t}deg)`,transition:i?"transform .3s":"","margin-left":a+"px","margin-top":n+"px"};return this.mode===c.CONTAIN&&(s.maxWidth=s.maxHeight="100%"),s}},watch:{index:{handler:function(e){this.reset(),this.onSwitch(e)}},currentImg(e){this.$nextTick(e=>{this.$refs.img[0].complete||(this.loading=!0)})}},methods:{hide(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall(){this._keyDownHandler=l(e=>{switch(e.keyCode){case 27:this.hide();break;case 32:this.toggleMode();break;case 37:this.prev();break;case 38:this.handleActions("zoomIn");break;case 39:this.next();break;case 40:this.handleActions("zoomOut")}}),this._mouseWheelHandler=l(e=>{(e.wheelDelta?e.wheelDelta:-e.detail)>0?this.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):this.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),o(document,"keydown",this._keyDownHandler),o(document,d,this._mouseWheelHandler)},deviceSupportUninstall(){r(document,"keydown",this._keyDownHandler),r(document,d,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad(e){this.loading=!1},handleImgError(e){this.loading=!1,e.target.alt="加载失败"},handleMouseDown(e){if(this.loading||0!==e.button)return;const{offsetX:t,offsetY:a}=this.transform,n=e.pageX,i=e.pageY;this._dragHandler=l(e=>{this.transform.offsetX=t+e.pageX-n,this.transform.offsetY=a+e.pageY-i}),o(document,"mousemove",this._dragHandler),o(document,"mouseup",e=>{r(document,"mousemove",this._dragHandler)}),e.preventDefault()},handleMaskClick(){this.maskClosable&&this.hide()},reset(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode(){if(this.loading)return;const e=Object.keys(c),t=(Object.values(c).indexOf(this.mode)+1)%e.length;this.mode=c[e[t]],this.reset()},prev(){if(this.isFirst&&!this.infinite)return;const e=this.urlList.length;this.index=(this.index-1+e)%e},next(){if(this.isLast&&!this.infinite)return;const e=this.urlList.length;this.index=(this.index+1)%e},handleActions(e,t={}){if(this.loading)return;const{zoomRate:a,rotateDeg:n,enableTransition:i}={zoomRate:.2,rotateDeg:90,enableTransition:!0,...t},{transform:s}=this;switch(e){case"zoomOut":s.scale>.2&&(s.scale=parseFloat((s.scale-a).toFixed(3)));break;case"zoomIn":s.scale=parseFloat((s.scale+a).toFixed(3));break;case"clocelise":s.deg+=n;break;case"anticlocelise":s.deg-=n}s.enableTransition=i}},mounted(){this.deviceSupportInstall(),this.appendToBody&&document.body.appendChild(this.$el),this.$refs["el-image-viewer__wrapper"].focus()},destroyed(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},h=a("KHd+"),u=Object(h.a)(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"viewer-fade"}},[a("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":e.zIndex},attrs:{tabindex:"-1"}},[a("div",{staticClass:"el-image-viewer__mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleMaskClick(t)}}}),e._v(" "),a("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:e.hide}},[a("i",{staticClass:"el-icon-close"})]),e._v(" "),e.isSingle?e._e():[a("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!e.infinite&&e.isFirst},on:{click:e.prev}},[a("i",{staticClass:"el-icon-arrow-left"})]),e._v(" "),a("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!e.infinite&&e.isLast},on:{click:e.next}},[a("i",{staticClass:"el-icon-arrow-right"})])],e._v(" "),a("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[a("div",{staticClass:"el-image-viewer__actions__inner"},[a("i",{staticClass:"el-icon-zoom-out",on:{click:function(t){return e.handleActions("zoomOut")}}}),e._v(" "),a("i",{staticClass:"el-icon-zoom-in",on:{click:function(t){return e.handleActions("zoomIn")}}}),e._v(" "),a("i",{staticClass:"el-image-viewer__actions__divider"}),e._v(" "),a("i",{class:e.mode.icon,on:{click:e.toggleMode}}),e._v(" "),a("i",{staticClass:"el-image-viewer__actions__divider"}),e._v(" "),a("i",{staticClass:"el-icon-refresh-left",on:{click:function(t){return e.handleActions("anticlocelise")}}}),e._v(" "),a("i",{staticClass:"el-icon-refresh-right",on:{click:function(t){return e.handleActions("clocelise")}}})])]),e._v(" "),a("div",{staticClass:"el-image-viewer__canvas"},e._l(e.urlList,(function(t,n){return n===e.index?a("img",{key:t,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:e.imgStyle,attrs:{src:e.currentImg},on:{load:e.handleImgLoad,error:e.handleImgError,mousedown:e.handleMouseDown}}):e._e()})),0)],2)])}),[],!1,null,null,null);t.default=u.exports},FjbM:function(e,t,a){"use strict";a.r(t);var n=a("bZfn"),i=a("KDx3");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);t.default=r.exports},J6oF:function(e,t,a){"use strict";a.r(t),t.default={el:{colorpicker:{confirm:"باشد",clear:"حذف"},datepicker:{now:"اکنون",today:"امروز",cancel:"لغو",clear:"حذف",confirm:"باشه",selectDate:"انتخاب تاریخ",selectTime:"انتخاب زمان",startDate:"تاریخ شروع",startTime:"زمان شروع",endDate:"تاریخ پایان",endTime:"زمان پایان",prevYear:"سال قبل",nextYear:"سال بعد",prevMonth:"ماه قبل",nextMonth:"ماه بعد",year:"سال",month1:"ژانویه",month2:"فوریه",month3:"مارس",month4:"آوریل",month5:"مه",month6:"ژوئن",month7:"جولای",month8:"اوت",month9:"سپتامبر",month10:"اکتبر",month11:"نوامبر",month12:"دسامبر",weeks:{sun:"یکشنبه",mon:"دوشنبه",tue:"سه​شنبه",wed:"چهارشنبه",thu:"پنج​شنبه",fri:"جمعه",sat:"شنبه"},months:{jan:"ژانویه",feb:"فوریه",mar:"مارس",apr:"آوریل",may:"مه",jun:"ژوئن",jul:"جولای",aug:"اوت",sep:"سپتامبر",oct:"اکتبر",nov:"نوامبر",dec:"دسامبر"}},select:{loading:"بارگیری",noMatch:"هیچ داده‌ای پیدا نشد",noData:"اطلاعاتی وجود ندارد",placeholder:"انتخاب کنید"},cascader:{noMatch:"هیچ داده‌ای پیدا نشد",loading:"بارگیری",placeholder:"انتخاب کنید",noData:"اطلاعاتی وجود ندارد"},pagination:{goto:"برو به",pagesize:"/صفحه",total:"مجموع {total}",pageClassifier:""},messagebox:{title:"پیام",confirm:"باشه",cancel:"لغو",error:"ورودی غیر مجاز"},upload:{deleteTip:"برای پاک کردن حذف را فشار دهید",delete:"حذف",preview:"پیش‌نمایش",continue:"ادامه"},table:{emptyText:"اطلاعاتی وجود ندارد",confirmFilter:"تایید",resetFilter:"حذف",clearFilter:"همه",sumText:"جمع"},tree:{emptyText:"اطلاعاتی وجود ندارد"},transfer:{noMatch:"هیچ داده‌ای پیدا نشد",noData:"اطلاعاتی وجود ندارد",titles:["لیست 1","لیست 2"],filterPlaceholder:"کلید واژه هارو وارد کن",noCheckedFormat:"{total} مورد",hasCheckedFormat:"{checked} مورد از {total} مورد انتخاب شده است"},image:{error:"خطا در بارگیری تصویر"},pageHeader:{title:"بازگشت"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}}},KDx3:function(e,t,a){"use strict";a.r(t);var n=a("pJ1T"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t.default=i.a},"KHd+":function(e,t,a){"use strict";function n(e,t,a,n,i,s,o,r){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):i&&(l=r?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return n}))},bZfn:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cont-manage-box"},[a("div",{staticClass:"cont-manage-header"},[a("div",{staticClass:"cont-manage-header_top condition-box"},[a("div",{staticClass:"cont-manage-header_condition cont-manage-header_condition-lf"},[a("span",{staticClass:"cont-manage-header_condition-title"},[e._v("作者：")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.topicAuthor,callback:function(t){e.$set(e.searchData,"topicAuthor",t)},expression:"searchData.topicAuthor"}})],1),e._v(" "),a("div",{staticClass:"cont-manage-header_condition cont-manage-header_condition-rhs"},[a("span",{staticClass:"cont-manage-header_condition-title"},[e._v("话题：")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.topicContent,callback:function(t){e.$set(e.searchData,"topicContent",t)},expression:"searchData.topicContent"}})],1),e._v(" "),a("div",{staticClass:"cont-manage-header_condition cont-manage-header_condition-mid"},[a("span",{staticClass:"cont-manage-header_condition-titles",staticStyle:{"padding-left":"20px"}},[e._v("创建时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"",size:"medium","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.searchData.releaseTime,callback:function(t){e.$set(e.searchData,"releaseTime",t)},expression:"searchData.releaseTime"}})],1)]),e._v(" "),a("div",{staticClass:"cont-manage-header_bottom condition-box"},[a("div",{staticClass:"cont-manage-header_condition"},[a("span",{staticClass:"cont-manage-header_condition-titles"},[e._v("主题数介于：")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.numberOfThreadMin,callback:function(t){e.$set(e.searchData,"numberOfThreadMin",t)},expression:"searchData.numberOfThreadMin"}}),e._v(" "),a("div",{staticClass:"spacing"},[e._v("-")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.numberOfThreadMax,callback:function(t){e.$set(e.searchData,"numberOfThreadMax",t)},expression:"searchData.numberOfThreadMax"}})],1),e._v(" "),a("div",{staticClass:"cont-manage-header_condition"},[a("span",{staticClass:"cont-manage-header_condition-titles",staticStyle:{"padding-left":"20px"}},[e._v("热度数介于：")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.numberOfHotMin,callback:function(t){e.$set(e.searchData,"numberOfHotMin",t)},expression:"searchData.numberOfHotMin"}}),e._v(" "),a("div",{staticClass:"spacing"},[e._v("-")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.numberOfHotMax,callback:function(t){e.$set(e.searchData,"numberOfHotMax",t)},expression:"searchData.numberOfHotMax"}})],1),e._v(" "),a("div",{staticClass:"cont-manage-header_condition"},[a("span",{staticClass:"cont-manage-header_condition-titles condttions-titles",staticStyle:{"padding-left":"20px"}},[e._v("推荐：")]),e._v(" "),a("el-select",{attrs:{clearable:!0,placeholder:"请选择"},on:{change:e.obtainValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.searchClick}},[e._v("搜索")])],1)])]),e._v(" "),a("div",{staticClass:"cont-manage-theme"},[a("div",{staticClass:"cont-manage-theme__table"},[e._m(0),e._v(" "),e._l(e.themeList,(function(t,n){return a("ContArrange",{key:t._data.id,attrs:{establish:t.user?t.user._data.username:"该用户被删除",theme:e.formatDate(t._data.created_at),numbertopic:t._data.thread_count,heatNumber:t._data.view_count,userId:t._data.user_id}},[a("div",{staticClass:"cont-manage-theme__table-side",attrs:{slot:"side"},slot:"side"},[a("el-radio-group",{on:{change:function(a){return e.themidpost(a,t._data.id)}},model:{value:e.radio[n],callback:function(t){e.$set(e.radio,n,t)},expression:"radio[index]"}},[a("el-radio",{attrs:{label:1}},[e._v("推荐")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("取消")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("删除")])],1)],1),e._v(" "),a("p",{staticClass:"cont-manage-theme__table-long-text",staticStyle:{cursor:"pointer"},attrs:{slot:"longText"},on:{click:function(a){return e.$router.push({path:"/admin/cont-manage/topic",query:{id:t._data.id}})}},slot:"longText"},[e._v("\n          "+e._s("#"+t._data.content+"#")+"\n        ")]),e._v(" "),a("div",{staticClass:"cont-manage-theme__table-main tables-main",attrs:{slot:"main"},slot:"main"},[a("div",{staticClass:"cont-manage-theme__table-main-bigbox"},[a("span",{staticClass:"cont-manage-theme__table-main-bigbox-box",on:{click:function(a){return e.btnrecomment(t._data.id,t._data.recommended)}}},[e._v(e._s(1===t._data.recommended?e.recomment2:e.recomment1))]),e._v(" "),a("span",{staticClass:"cont-manage-theme__table-main-bigbox-span"}),e._v(" "),a("el-popover",{ref:"popover-"+n,refInFor:!0,attrs:{width:"100",placement:"top"}},[a("p",[e._v("确定删除该项吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"10PX 0 0 0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.closeDelet("popover-"+n)}}},[e._v("\n                取消\n              ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.deteleTopic(t._data.id),e.closeDelet("popover-"+n)}}},[e._v("确定")])],1),e._v(" "),a("span",{staticClass:"cont-manage-theme__table-main-bigbox-box",attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])])],1)])])})),e._v(" "),e.showViewer?a("el-image-viewer",{attrs:{"on-close":e.closeViewer,"url-list":e.url}}):e._e(),e._v(" "),a("tableNoList",{directives:[{name:"show",rawName:"v-show",value:e.themeList.length<1,expression:"themeList.length < 1"}]}),e._v(" "),e.pageCount>1?a("div",{staticClass:"cont-manage-theme__table-footer"},[a("Page",{attrs:{"current-page":e.currentPag,"page-size":10,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()],2)]),e._v(" "),a("div",{staticClass:"cont-manage-operating"},[a("Card",{staticClass:"footer-btn"},[a("el-button",{attrs:{loading:e.subLoading,type:"primary"},on:{click:e.btnSubmit}},[e._v("提交")]),e._v(" "),a("span",{staticClass:"cont-manage-operating-all operating-alls",on:{click:function(t){return e.allRecomment(1,e.themeListAll,1)}}},[e._v("全部推荐")]),e._v(" "),a("span",{staticClass:"cont-manage-operating-all",on:{click:function(t){return e.allRecomment(0,e.themeListAll,1)}}},[e._v("全部取消推荐")]),e._v(" "),a("el-popover",{attrs:{width:"100",placement:"top"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("p",[e._v("确定删除该项吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"10PX 0 0 0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){e.visible=!1}}},[e._v("\n                取消\n              ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.deleteClick(e.themeListAll,1),e.visible=!1}}},[e._v("确定")])],1),e._v(" "),a("span",{staticClass:"cont-manage-operating-all",attrs:{slot:"reference"},slot:"reference"},[e._v("全部删除")])])],1)],1)])},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cont-manage-theme__table-header"},[t("p",{staticClass:"cont-manage-theme__table-header__title"},[this._v("主题列表")])])}]},pJ1T:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a("QbLZ"));a("lL+3");var i=s(a("wptx"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({name:"topic-management-view"},i.default)},wptx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a("YEIV")),i=m(a("4gYi")),s=m(a("Dt3C")),o=m(a("7qpD")),r=m(a("rWG0")),l=m(a("VVfg")),c=a("WIBD"),d=m(a("CKnL"));m(a("J6oF"));function m(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{operatingList:[{name:"批量移动到分类",label:"class"},{name:"批量置顶",label:"sticky"},{name:"批量删除",label:"delete"},{name:"批量设置精华",label:"marrow"}],operatingSelect:"",categoriesList:[{name:"所有分类",id:0}],categoryId:"",checkAll:!1,checkAllNum:0,themeListAll:[],checkedTheme:[],isIndeterminate:!1,themeList:[],currentPag:1,total:0,pageCount:1,showViewer:!1,url:[],searchData:{topicContent:"",pageSelect:"10",topicAuthor:"",releaseTime:["",""],numberOfThreadMin:"",numberOfThreadMax:"",numberOfHotMin:"",numberOfHotMax:""},subLoading:!1,recommentbtn:!0,recomment1:"推荐",recomment2:"取消推荐",options:[{value:1,label:"是"},{value:0,label:"否"}],value:"",checkedAll:!1,recommentNumber:"",recommentParams:"createdAt",radio:[],themeOperation:[],themeOperations:[],recommend:[],cancelrecomend:[],detelethem:[],sobj:"",visible:!1}},computed:(0,c.mapState)({}),methods:{closeDelet:function(e){this.$refs[e][0].doClose()},closeViewer:function(){this.showViewer=!1},formatDate:function(e){return this.$dayjs(e).format("YYYY-MM-DD HH:mm")},handleCurrentChange:function(e){document.getElementsByClassName("index-main-con__main")[0].scrollTop=0,this.isIndeterminate=!1,this.currentPag=e,this.checkAll=!1,this.checkedTheme=[],this.getThemeList(e)},searchClick:function(){switch(this.searchData.topicTypeId){case"0":this.searchData.essentialTheme="",this.searchData.topType="";break;case"1":this.searchData.essentialTheme="",this.searchData.topType="yes";break;case"2":this.searchData.essentialTheme="yes",this.searchData.topType="";break;case"3":this.searchData.essentialTheme="yes",this.searchData.topType="yes"}this.searchData.releaseTime=null==this.searchData.releaseTime?["",""]:this.searchData.releaseTime,this.currentPag=1,this.getThemeList(1)},getThemeList:function(e){var t,a=this,i=this.searchData;this.appFetch({url:"topics",method:"get",data:(t={include:["user"],"filter[content]":i.topicContent,"page[number]":e,"filter[recommended]":this.value,"page[size]":i.pageSelect,"filter[q]":i.themeKeyWords,sort:"-createdAt","filter[username]":i.topicAuthor},(0,n.default)(t,"filter[content]",i.topicContent),(0,n.default)(t,"filter[createdAtBegin]",i.releaseTime[0]),(0,n.default)(t,"filter[createdAtEnd]",i.releaseTime[1]),(0,n.default)(t,"filter[threadCountBegin]",i.numberOfThreadMin),(0,n.default)(t,"filter[threadCountEnd]",i.numberOfThreadMax),(0,n.default)(t,"filter[viewCountBegin]",i.numberOfHotMin),(0,n.default)(t,"filter[viewCountEnd]",i.numberOfHotMax),t)}).then((function(e){e.errors?a.$message.error(e.errors[0].code):(a.themeList=e.readdata,a.total=e.meta.total,a.pageCount=e.meta.pageCount,a.themeListAll=[],a.themeList.forEach((function(e,t){a.themeListAll.push(e._data.id)})))})).catch((function(e){}))},deteleTopic:function(e){var t=this;this.appFetch({url:"topics",method:"delete",splice:"/"+e}).then((function(e){t.$message.success("删除成功"),t.getThemeList()}))},deleteClick:function(e,t){var a=this;e.join(",");this.appFetch({url:"deleteTopics",method:"delete",splice:"/"+e}).then((function(e){1===t&&a.$message.success("删除成功"),a.getThemeList()}))},recommentBtn:function(){this.recommentbtn=!this.recommentbtn},btnrecomment:function(e,t){var a=this;this.recommentNumber=t?0:1,this.appFetch({url:"topics",splice:"/"+e,method:"patch",data:{data:{type:"topics",attributes:{recommended:this.recommentNumber}}}}).then((function(e){1===e.data.attributes.recommended?a.$message.success("推荐成功"):a.$message.success("取消推荐成功"),a.getThemeList()}))},allRecomment:function(e,t,a){var n=this,i=t.join(",");this.appFetch({url:"deleteTopics",method:"patch",splice:"/"+i,data:{data:{ids:i,type:"topics",attributes:{recommended:e}}}}).then((function(t){1===a&&(1===e?n.$message.success("全部推荐成功"):n.$message.success("全部取消推荐成功")),n.getThemeList()}))},btninformation:function(e){this.checkedAll=e},themidpost:function(e,t){var a=this;-1===this.themeOperations.indexOf(t)?(this.themeOperations.push(t),this.themeOperation.push({type:e,themid:t})):this.themeOperation.forEach((function(n,i){n.themid==t&&(a.themeOperation[i].type=e)}))},btnSubmit:function(){var e=this;this.recommend=[],this.cancelrecomend=[],this.detelethem=[],this.themeOperation.forEach((function(t,a){1===t.type?e.recommend.push(t.themid):2===t.type?e.cancelrecomend.push(t.themid):3===t.type&&e.detelethem.push(t.themid)})),this.recommend.length>=1&&this.allRecomment(1,this.recommend,2),this.detelethem.length>=1&&this.deleteClick(this.detelethem,2),this.cancelrecomend.length>=1&&this.allRecomment(0,this.cancelrecomend,2),this.$message.success("提交成功"),this.radio=[],this.themeOperation=[]}},beforeDestroy:function(){l.default.setLItem("currentPag",1);var e=new Object;for(var t in this.searchData)e[t]="pageSelect"===t?"10":""},created:function(){this.currentPag=Number(l.default.getLItem("currentPag"))||1,this.getThemeList(Number(l.default.getLItem("currentPag"))||1)},components:{Card:i.default,ContArrange:s.default,tableNoList:o.default,ElImageViewer:d.default,Page:r.default}}}}]);